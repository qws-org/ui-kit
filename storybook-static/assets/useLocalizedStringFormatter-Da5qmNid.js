import{r as f,R as w}from"./index-D4lIrffr.js";import{p as S}from"./useUiKitComponents-t3zy5Zo0.js";const m=Symbol.for("react-aria.i18n.locale"),v=Symbol.for("react-aria.i18n.strings");let o;class s{getStringForLocale(e,t){let n=this.getStringsForLocale(t)[e];if(!n)throw new Error(`Could not find intl message ${e} in ${t} locale`);return n}getStringsForLocale(e){let t=this.strings[e];return t||(t=y(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[m];if(o===void 0){let n=window[v];if(!n)return null;o={};for(let l in n)o[l]=new s({[t]:n[l]},t)}let r=o==null?void 0:o[e];if(!r)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,r])=>r)),this.defaultLocale=t}}function y(a,e,t="en-US"){if(e[a])return e[a];let r=L(a);if(e[r])return e[r];for(let n in e)if(n.startsWith(r+"-"))return e[n];return e[t]}function L(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const u=new Map,$=new Map;class x{format(e,t){let r=this.strings.getStringForLocale(e,this.locale);return typeof r=="function"?r(t,this):r}plural(e,t,r="cardinal"){let n=t["="+e];if(n)return typeof n=="function"?n():n;let l=this.locale+":"+r,c=u.get(l);c||(c=new Intl.PluralRules(this.locale,{type:r}),u.set(l,c));let p=c.select(e);return n=t[p]||t.other,typeof n=="function"?n():n}number(e){let t=$.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),$.set(this.locale,t)),t.format(e)}select(e,t){let r=e[t]||e.other;return typeof r=="function"?r():r}constructor(e,t){this.locale=e,this.strings=t}}const I=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),F=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function R(a){if(Intl.Locale){let t=new Intl.Locale(a).maximize(),r=typeof t.getTextInfo=="function"?t.getTextInfo():t.textInfo;if(r)return r.direction==="rtl";if(t.script)return I.has(t.script)}let e=a.split("-")[0];return F.has(e)}const k=Symbol.for("react-aria.i18n.locale");function h(){let a=typeof window<"u"&&window[k]||typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([a])}catch{a="en-US"}return{locale:a,direction:R(a)?"rtl":"ltr"}}let d=h(),i=new Set;function b(){d=h();for(let a of i)a(d)}function C(){let a=S(),[e,t]=f.useState(d);return f.useEffect(()=>(i.size===0&&window.addEventListener("languagechange",b),i.add(t),()=>{i.delete(t),i.size===0&&window.removeEventListener("languagechange",b)}),[]),a?{locale:"en-US",direction:"ltr"}:e}const E=w.createContext(null);function T(){let a=C();return f.useContext(E)||a}const g=new WeakMap;function z(a){let e=g.get(a);return e||(e=new s(a),g.set(a,e)),e}function D(a,e){return e&&s.getGlobalDictionaryForPackage(e)||z(a)}function U(a,e){let{locale:t}=T(),r=D(a,e);return f.useMemo(()=>new x(t,r),[t,r])}export{T as $,U as a};
