import{j as e}from"./jsx-runtime-BO8uF4Og.js";import{r as v,R as P}from"./index-D4H_InIO.js";import{n as F}from"./useFocus-CgYBR30T.js";import{c as x,b as J}from"./useFocusable-CMHRg9rf.js";import{$ as K,a as U,b as X}from"./Overlay-CvQAKytZ.js";import{B as z}from"./Button-wQBYiI16.js";import{P as G}from"./Popover-Crkk1qp4.js";import"./index-BFEZrabH.js";import"./index-BVDRNj0I.js";import"./useControlledState-Dxxc-Ijj.js";import"./FocusScope-BAFQ_4OF.js";import"./useFocusWithin-DR07ZYpu.js";import"./getScrollParent-Bbxi3i5a.js";import"./index-DW2zCSF8.js";import"./useUiKitTheme-CvYQzVCc.js";import"./context-Cc1G11um.js";import"./useButton-YENtSbt8.js";import"./useUiKitComponents-DylESbeD.js";import"./context-BAxB0ZoE.js";import"./useLabels-BjMgE2Wj.js";import"./useLocalizedStringFormatter-_Pjder9J.js";import"./VisuallyHidden-CsyuHRxB.js";function H(o,t){let{role:i="dialog"}=o,r=F();r=o["aria-label"]?void 0:r;let n=v.useRef(!1);return v.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){x(t.current);let a=setTimeout(()=>{(document.activeElement===t.current||document.activeElement===document.body)&&(n.current=!0,t.current&&(t.current.blur(),x(t.current)),n.current=!1)},500);return()=>{clearTimeout(a)}}},[t]),K(),{dialogProps:{...J(o,{labelable:!0}),role:i,tabIndex:-1,"aria-labelledby":o["aria-labelledby"]||r,onBlur:a=>{n.current&&a.stopPropagation()}},titleProps:{id:r}}}const s=({placement:o="bottom",label:t,children:i,customTrigger:r,popoverProps:n,...a})=>{const p=v.useRef(null),b=U(a),{triggerProps:h,overlayProps:k}=X({type:"dialog"},b);return e.jsxs(e.Fragment,{children:[r?P.cloneElement(r,{ref:p,...h,onClick:h.onPress}):e.jsx(z,{ref:p,...h,children:t}),b.isOpen&&e.jsx(G,{triggerRef:p,state:b,placement:o,...a,...n,children:P.cloneElement(i,k)})]})};try{s.displayName="PopoverTrigger",s.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},customTrigger:{defaultValue:null,description:"",name:"customTrigger",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},crossOffset:{defaultValue:null,description:"",name:"crossOffset",required:!1,type:{name:"number"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end"'},{value:'"end top"'},{value:'"end bottom"'}]}},popoverProps:{defaultValue:null,description:"",name:"popoverProps",required:!1,type:{name:'Omit<PopoverProps, "children" | "triggerRef" | "state">'}}}}}catch{}const l=({title:o,children:t,dialogStyle:i,...r})=>{const n=v.useRef(null),{dialogProps:a,titleProps:p}=H(r,n);return e.jsxs("div",{...a,ref:n,className:"p-8",style:i,children:[o&&e.jsx("h3",{...p,className:"mt-0",children:o}),t]})};try{l.displayName="Dialog",l.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},dialogStyle:{defaultValue:null,description:"",name:"dialogStyle",required:!1,type:{name:"CSSProperties"}}}}}catch{}const ve={title:"UI-Kit components/Popover",component:s,tags:["autodocs"],argTypes:{label:{description:"Текст, который будет отображаться на кнопке, открывающей поповер.",control:{type:"text"}},placement:{description:"Позиция поповера относительно триггера. Возможные значения: 'top', 'bottom', 'left', 'right', а также 'top-start', 'top-end', 'bottom-start', 'bottom-end', 'left-start', 'left-end', 'right-start', 'right-end'.",control:{type:"select"},options:["top","bottom","left","right","top-start","top-end","bottom-start","bottom-end","left-start","left-end","right-start","right-end"],defaultValue:"bottom"},offset:{description:"Смещение поповера относительно его якорного элемента вдоль основной оси. Этот проп определяет расстояние между поповером и элементом-триггером.",control:{type:"number"}},crossOffset:{description:"Смещение поповера относительно его якорного элемента вдоль крестовой оси. Этот проп определяет дополнительное расстояние между поповером и триггером по перпендикулярной оси.",control:{type:"number"}},children:{description:"Дочерний элемент, который будет отображаться внутри поповера."}}},c={render:()=>e.jsx(s,{label:"Open Popover",children:e.jsx(l,{title:"Popover title",children:"This is the content of the popover."})})},d={render:()=>e.jsx(s,{label:"Open Popover (Custom)",placement:"top end",children:e.jsx(l,{title:"Popover title",children:"This is the content of the popover with custom placement."})})},m={render:()=>e.jsx(s,{label:"Open Popover (Offset)",placement:"bottom end",offset:50,children:e.jsx(l,{title:"Popover title",children:"This is the content of the popover with offset placement."})})},f={render:()=>e.jsx(s,{label:"Open Popover (Cross Offset)",placement:"bottom",crossOffset:20,children:e.jsx(l,{title:"Popover title",children:"This is the content of the popover with cross offset placement."})})},u={render:()=>e.jsx(s,{label:"Open Popover (Offset + Cross Offset)",placement:"top end",offset:40,crossOffset:30,children:e.jsx(l,{title:"Popover title",children:"This is the content of the popover with combined offsets."})})},g={render:()=>e.jsx(s,{placement:"top end",label:"asd",customTrigger:e.jsx("button",{children:"Custom trigger"}),popoverProps:{bg:"red"},children:e.jsx(l,{dialogStyle:{padding:"8px 12px"},children:"Custom trigger content"})})};var O,y,T;c.parameters={...c.parameters,docs:{...(O=c.parameters)==null?void 0:O.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover">
      <Dialog title="Popover title">This is the content of the popover.</Dialog>
    </PopoverTrigger>
}`,...(T=(y=c.parameters)==null?void 0:y.docs)==null?void 0:T.source}}};var $,C,j;d.parameters={...d.parameters,docs:{...($=d.parameters)==null?void 0:$.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Custom)" placement="top end">
      <Dialog title="Popover title">
        This is the content of the popover with custom placement.
      </Dialog>
    </PopoverTrigger>
}`,...(j=(C=d.parameters)==null?void 0:C.docs)==null?void 0:j.source}}};var _,D,S;m.parameters={...m.parameters,docs:{...(_=m.parameters)==null?void 0:_.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Offset)" placement="bottom end" offset={50}>
      <Dialog title="Popover title">
        This is the content of the popover with offset placement.
      </Dialog>
    </PopoverTrigger>
}`,...(S=(D=m.parameters)==null?void 0:D.docs)==null?void 0:S.source}}};var E,R,V;f.parameters={...f.parameters,docs:{...(E=f.parameters)==null?void 0:E.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Cross Offset)" placement="bottom" crossOffset={20}>
      <Dialog title="Popover title">
        This is the content of the popover with cross offset placement.
      </Dialog>
    </PopoverTrigger>
}`,...(V=(R=f.parameters)==null?void 0:R.docs)==null?void 0:V.source}}};var q,w,N;u.parameters={...u.parameters,docs:{...(q=u.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Offset + Cross Offset)" placement="top end" offset={40} crossOffset={30}>
      <Dialog title="Popover title">
        This is the content of the popover with combined offsets.
      </Dialog>
    </PopoverTrigger>
}`,...(N=(w=u.parameters)==null?void 0:w.docs)==null?void 0:N.source}}};var I,B,A;g.parameters={...g.parameters,docs:{...(I=g.parameters)==null?void 0:I.docs,source:{originalSource:`{
  render: () => <PopoverTrigger placement="top end" label="asd" customTrigger={<button>Custom trigger</button>} popoverProps={{
    bg: "red"
  }}>
      <Dialog dialogStyle={{
      padding: "8px 12px"
    }}>
        Custom trigger content
      </Dialog>
    </PopoverTrigger>
}`,...(A=(B=g.parameters)==null?void 0:B.docs)==null?void 0:A.source}}};const be=["Default","CustomPlacement","OffsetPlacement","CrossOffsetPlacement","OffsetAndCrossOffset","CustomTrigger"];export{f as CrossOffsetPlacement,d as CustomPlacement,g as CustomTrigger,c as Default,u as OffsetAndCrossOffset,m as OffsetPlacement,be as __namedExportsOrder,ve as default};
