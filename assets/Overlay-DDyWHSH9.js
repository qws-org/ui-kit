import{r as $,R as T}from"./index-D4lIrffr.js";import{$ as ae}from"./useControlledState-YrJM5BK_.js";import{$ as ce}from"./useFocusWithin-DMO_AWiL.js";import{q as A,l as U,e as se,r as de,n as ue}from"./useFocus-DvAqnNhs.js";import{e as E,c as fe,d as H}from"./mergeProps-CARUYZZ9.js";import{d as be,e as pe,f as ve}from"./platform-BAdLVq7s.js";import{h as $e,e as he}from"./useFocusable-B4qsG7Rm.js";import{a as me,$ as Ee,b as w}from"./domHelpers-DlYETLWZ.js";import{$ as Ne}from"./index-D5gmOSW9.js";function Ze(e){let[t,r]=ae(e.isOpen,e.defaultOpen||!1,e.onOpenChange);const n=$.useCallback(()=>{r(!0)},[r]),o=$.useCallback(()=>{r(!1)},[r]),i=$.useCallback(()=>{r(!t)},[r,t]);return{isOpen:t,setOpen:r,open:n,close:o,toggle:i}}function Y(e,t){if(!A())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:me(r)?r=r.host:r=r.parentNode}return!1}const S=(e=document)=>{var t;if(!A())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function k(e){return A()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}class we{get currentNode(){return this._currentNode}set currentNode(t){if(!Y(this.root,t))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const r=[];let n=t,o=t;for(this._currentNode=t;n&&n!==this.root;)if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const a=n,l=this._doc.createTreeWalker(a,this.whatToShow,{acceptNode:this._acceptNode});r.push(l),l.currentNode=o,this._currentSetFor.add(l),n=o=a.host}else n=n.parentNode;const i=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});r.push(i),i.currentNode=o,this._currentSetFor.add(i),this._walkerStack=r}get doc(){return this._doc}firstChild(){let t=this.currentNode,r=this.nextNode();return Y(t,r)?(r&&(this.currentNode=r),r):(this.currentNode=t,null)}lastChild(){let r=this._walkerStack[0].lastChild();return r&&(this.currentNode=r),r}nextNode(){const t=this._walkerStack[0].nextNode();if(t){if(t.shadowRoot){var r;let o;if(typeof this.filter=="function"?o=this.filter(t):!((r=this.filter)===null||r===void 0)&&r.acceptNode&&(o=this.filter.acceptNode(t)),o===NodeFilter.FILTER_ACCEPT)return this.currentNode=t,t;let i=this.nextNode();return i&&(this.currentNode=i),i}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.nextNode();return n&&(this.currentNode=n),n}else return null}previousNode(){const t=this._walkerStack[0];if(t.currentNode===t.root){if(this._currentSetFor.has(t))if(this._currentSetFor.delete(t),this._walkerStack.length>1){this._walkerStack.shift();let o=this.previousNode();return o&&(this.currentNode=o),o}else return null;return null}const r=t.previousNode();if(r){if(r.shadowRoot){var n;let i;if(typeof this.filter=="function"?i=this.filter(r):!((n=this.filter)===null||n===void 0)&&n.acceptNode&&(i=this.filter.acceptNode(r)),i===NodeFilter.FILTER_ACCEPT)return r&&(this.currentNode=r),r;let a=this.lastChild();return a&&(this.currentNode=a),a}return r&&(this.currentNode=r),r}else if(this._walkerStack.length>1){this._walkerStack.shift();let o=this.previousNode();return o&&(this.currentNode=o),o}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(t,r,n,o){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=a=>{if(a.nodeType===Node.ELEMENT_NODE){const s=a.shadowRoot;if(s){const c=this._doc.createTreeWalker(s,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(c),NodeFilter.FILTER_ACCEPT}else{var l;if(typeof this.filter=="function")return this.filter(a);if(!((l=this.filter)===null||l===void 0)&&l.acceptNode)return this.filter.acceptNode(a);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=t,this.root=r,this.filter=o!=null?o:null,this.whatToShow=n!=null?n:NodeFilter.SHOW_ALL,this._currentNode=r,this._walkerStack.unshift(t.createTreeWalker(r,n,this._acceptNode));const i=r.shadowRoot;if(i){const a=this._doc.createTreeWalker(i,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(a)}}}function ge(e,t,r,n){return A()?new we(e,t,r,n):e.createTreeWalker(t,r,n)}function G(e,t){if(!e)return!1;let r=window.getComputedStyle(e),n=/(auto|scroll)/.test(r.overflow+r.overflowX+r.overflowY);return n&&t&&(n=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),n}function te(e,t){let r=e;for(G(r,t)&&(r=r.parentElement);r&&!G(r,t);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}const j=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],Te=j.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";j.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const xe=j.join(':not([hidden]):not([tabindex="-1"]),');function Se(e){return e.matches(Te)}function ye(e){return e.matches(xe)}function Ce(e){const t=Ee(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:n}=e.style,o=r!=="none"&&n!=="hidden"&&n!=="collapse";if(o){const{getComputedStyle:i}=e.ownerDocument.defaultView;let{display:a,visibility:l}=i(e);o=a!=="none"&&l!=="hidden"&&l!=="collapse"}return o}function Re(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function re(e,t){return e.nodeName!=="#comment"&&Ce(e)&&Re(e,t)&&(!e.parentElement||re(e.parentElement,e))}function _e({children:e}){let t=$.useMemo(()=>({register:()=>{}}),[]);return T.createElement($e.Provider,{value:t},e)}function ke(e){let{ref:t,onInteractOutside:r,isDisabled:n,onInteractOutsideStart:o}=e,i=$.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),a=U(s=>{r&&J(s,t)&&(o&&o(s),i.current.isPointerDown=!0)}),l=U(s=>{r&&r(s)});$.useEffect(()=>{let s=i.current;if(n)return;const c=t.current,d=se(c);if(typeof PointerEvent!="undefined"){let u=f=>{s.isPointerDown&&J(f,t)&&l(f),s.isPointerDown=!1};return d.addEventListener("pointerdown",a,!0),d.addEventListener("click",u,!0),()=>{d.removeEventListener("pointerdown",a,!0),d.removeEventListener("click",u,!0)}}},[t,n,a,l])}function J(e,t){if(e.button>0)return!1;if(e.target){const r=e.target.ownerDocument;if(!r||!r.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current?!e.composedPath().includes(t.current):!1}const X=T.createContext(null),V="react-aria-focus-scope-restore";let v=null;function Le(e){let{children:t,contain:r,restoreFocus:n,autoFocus:o}=e,i=$.useRef(null),a=$.useRef(null),l=$.useRef([]),{parentNode:s}=$.useContext(X)||{},c=$.useMemo(()=>new q({scopeRef:l}),[l]);E(()=>{let f=s||h.root;if(h.getTreeNode(f.scopeRef)&&v&&!P(v,f.scopeRef)){let p=h.getTreeNode(v);p&&(f=p)}f.addChild(c),h.addNode(c)},[c,s]),E(()=>{let f=h.getTreeNode(l);f&&(f.contain=!!r)},[r]),E(()=>{var f;let p=(f=i.current)===null||f===void 0?void 0:f.nextSibling,b=[],_=I=>I.stopPropagation();for(;p&&p!==a.current;)b.push(p),p.addEventListener(V,_),p=p.nextSibling;return l.current=b,()=>{for(let I of b)I.removeEventListener(V,_)}},[t]),Pe(l,n,r),Oe(l,r),Ae(l,n,r),De(l,o),$.useEffect(()=>{const f=S(w(l.current?l.current[0]:void 0));let p=null;if(N(f,l.current)){for(let b of h.traverse())b.scopeRef&&N(f,b.scopeRef.current)&&(p=b);p===h.getTreeNode(l)&&(v=p.scopeRef)}},[l]),E(()=>()=>{var f,p,b;let _=(b=(p=h.getTreeNode(l))===null||p===void 0||(f=p.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&b!==void 0?b:null;(l===v||P(l,v))&&(!_||h.getTreeNode(_))&&(v=_),h.removeTreeNode(l)},[l]);let d=$.useMemo(()=>Fe(l),[]),u=$.useMemo(()=>({focusManager:d,parentNode:c}),[c,d]);return T.createElement(X.Provider,{value:u},T.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:i}),t,T.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:a}))}function Fe(e){return{focusNext(t={}){let r=e.current,{from:n,tabbable:o,wrap:i,accept:a}=t;var l;let s=n||S(w((l=r[0])!==null&&l!==void 0?l:void 0)),c=r[0].previousElementSibling,d=R(r),u=C(d,{tabbable:o,accept:a},r);u.currentNode=N(s,r)?s:c;let f=u.nextNode();return!f&&i&&(u.currentNode=c,f=u.nextNode()),f&&x(f,!0),f},focusPrevious(t={}){let r=e.current,{from:n,tabbable:o,wrap:i,accept:a}=t;var l;let s=n||S(w((l=r[0])!==null&&l!==void 0?l:void 0)),c=r[r.length-1].nextElementSibling,d=R(r),u=C(d,{tabbable:o,accept:a},r);u.currentNode=N(s,r)?s:c;let f=u.previousNode();return!f&&i&&(u.currentNode=c,f=u.previousNode()),f&&x(f,!0),f},focusFirst(t={}){let r=e.current,{tabbable:n,accept:o}=t,i=R(r),a=C(i,{tabbable:n,accept:o},r);a.currentNode=r[0].previousElementSibling;let l=a.nextNode();return l&&x(l,!0),l},focusLast(t={}){let r=e.current,{tabbable:n,accept:o}=t,i=R(r),a=C(i,{tabbable:n,accept:o},r);a.currentNode=r[r.length-1].nextElementSibling;let l=a.previousNode();return l&&x(l,!0),l}}}function R(e){return e[0].parentElement}function M(e){let t=h.getTreeNode(v);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Oe(e,t){let r=$.useRef(void 0),n=$.useRef(void 0);E(()=>{let o=e.current;if(!t){n.current&&(cancelAnimationFrame(n.current),n.current=void 0);return}const i=w(o?o[0]:void 0);let a=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!M(e)||c.isComposing)return;let d=S(i),u=e.current;if(!u||!N(d,u))return;let f=R(u),p=C(f,{tabbable:!0},u);if(!d)return;p.currentNode=d;let b=c.shiftKey?p.previousNode():p.nextNode();b||(p.currentNode=c.shiftKey?u[u.length-1].nextElementSibling:u[0].previousElementSibling,b=c.shiftKey?p.previousNode():p.nextNode()),c.preventDefault(),b&&x(b,!0)},l=c=>{(!v||P(v,e))&&N(k(c),e.current)?(v=e,r.current=k(c)):M(e)&&!y(k(c),e)?r.current?r.current.focus():v&&v.current&&B(v.current):M(e)&&(r.current=k(c))},s=c=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(()=>{let d=de(),u=(d==="virtual"||d===null)&&be()&&pe(),f=S(i);if(!u&&f&&M(e)&&!y(f,e)){v=e;let b=k(c);if(b&&b.isConnected){var p;r.current=b,(p=r.current)===null||p===void 0||p.focus()}else v.current&&B(v.current)}})};return i.addEventListener("keydown",a,!1),i.addEventListener("focusin",l,!1),o==null||o.forEach(c=>c.addEventListener("focusin",l,!1)),o==null||o.forEach(c=>c.addEventListener("focusout",s,!1)),()=>{i.removeEventListener("keydown",a,!1),i.removeEventListener("focusin",l,!1),o==null||o.forEach(c=>c.removeEventListener("focusin",l,!1)),o==null||o.forEach(c=>c.removeEventListener("focusout",s,!1))}},[e,t]),E(()=>()=>{n.current&&cancelAnimationFrame(n.current)},[n])}function ne(e){return y(e)}function N(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function y(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:r}of h.traverse(h.getTreeNode(t)))if(r&&N(e,r.current))return!0;return!1}function Me(e){return y(e,v)}function P(e,t){var r;let n=(r=h.getTreeNode(t))===null||r===void 0?void 0:r.parent;for(;n;){if(n.scopeRef===e)return!0;n=n.parent}return!1}function x(e,t=!1){if(e!=null&&!t)try{he(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function oe(e,t=!0){let r=e[0].previousElementSibling,n=R(e),o=C(n,{tabbable:t},e);o.currentNode=r;let i=o.nextNode();return t&&!i&&(n=R(e),o=C(n,{tabbable:!1},e),o.currentNode=r,i=o.nextNode()),i}function B(e,t=!0){x(oe(e,t))}function De(e,t){const r=T.useRef(t);$.useEffect(()=>{if(r.current){v=e;const n=w(e.current?e.current[0]:void 0);!N(S(n),v.current)&&e.current&&B(e.current)}r.current=!1},[e])}function Pe(e,t,r){E(()=>{if(t||r)return;let n=e.current;const o=w(n?n[0]:void 0);let i=a=>{let l=k(a);N(l,e.current)?v=e:ne(l)||(v=null)};return o.addEventListener("focusin",i,!1),n==null||n.forEach(a=>a.addEventListener("focusin",i,!1)),()=>{o.removeEventListener("focusin",i,!1),n==null||n.forEach(a=>a.removeEventListener("focusin",i,!1))}},[e,t,r])}function Q(e){let t=h.getTreeNode(v);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function Ae(e,t,r){const n=$.useRef(typeof document!="undefined"?S(w(e.current?e.current[0]:void 0)):null);E(()=>{let o=e.current;const i=w(o?o[0]:void 0);if(!t||r)return;let a=()=>{(!v||P(v,e))&&N(S(i),e.current)&&(v=e)};return i.addEventListener("focusin",a,!1),o==null||o.forEach(l=>l.addEventListener("focusin",a,!1)),()=>{i.removeEventListener("focusin",a,!1),o==null||o.forEach(l=>l.removeEventListener("focusin",a,!1))}},[e,r]),E(()=>{const o=w(e.current?e.current[0]:void 0);if(!t)return;let i=a=>{if(a.key!=="Tab"||a.altKey||a.ctrlKey||a.metaKey||!M(e)||a.isComposing)return;let l=o.activeElement;if(!y(l,e)||!Q(e))return;let s=h.getTreeNode(e);if(!s)return;let c=s.nodeToRestore,d=C(o.body,{tabbable:!0});d.currentNode=l;let u=a.shiftKey?d.previousNode():d.nextNode();if((!c||!c.isConnected||c===o.body)&&(c=void 0,s.nodeToRestore=void 0),(!u||!y(u,e))&&c){d.currentNode=c;do u=a.shiftKey?d.previousNode():d.nextNode();while(y(u,e));a.preventDefault(),a.stopPropagation(),u?x(u,!0):ne(c)?x(c,!0):l.blur()}};return r||o.addEventListener("keydown",i,!0),()=>{r||o.removeEventListener("keydown",i,!0)}},[e,t,r]),E(()=>{const o=w(e.current?e.current[0]:void 0);if(!t)return;let i=h.getTreeNode(e);if(i){var a;return i.nodeToRestore=(a=n.current)!==null&&a!==void 0?a:void 0,()=>{let l=h.getTreeNode(e);if(!l)return;let s=l.nodeToRestore,c=S(o);if(t&&s&&(c&&y(c,e)||c===o.body&&Q(e))){let d=h.clone();requestAnimationFrame(()=>{if(o.activeElement===o.body){let u=d.getTreeNode(e);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){Z(u.nodeToRestore);return}u=u.parent}for(u=d.getTreeNode(e);u;){if(u.scopeRef&&u.scopeRef.current&&h.getTreeNode(u.scopeRef)){let f=oe(u.scopeRef.current,!0);Z(f);return}u=u.parent}}})}}}},[e,t])}function Z(e){e.dispatchEvent(new CustomEvent(V,{bubbles:!0,cancelable:!0}))&&x(e)}function C(e,t,r){let n=t!=null&&t.tabbable?ye:Se,o=(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,i=w(o),a=ge(i,e||i,NodeFilter.SHOW_ELEMENT,{acceptNode(l){var s;return!(t==null||(s=t.from)===null||s===void 0)&&s.contains(l)?NodeFilter.FILTER_REJECT:n(l)&&re(l)&&(!r||N(l,r))&&(!(t!=null&&t.accept)||t.accept(l))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(a.currentNode=t.from),a}class z{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,n){let o=this.fastMap.get(r!=null?r:null);if(!o)return;let i=new q({scopeRef:t});o.addChild(i),i.parent=o,this.fastMap.set(t,i),n&&(i.nodeToRestore=n)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let n=r.parent;for(let i of this.traverse())i!==r&&r.nodeToRestore&&i.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&N(i.nodeToRestore,r.scopeRef.current)&&(i.nodeToRestore=r.nodeToRestore);let o=r.children;n&&(n.removeChild(r),o.size>0&&o.forEach(i=>n&&n.addChild(i))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new z;var n;for(let o of this.traverse())r.addTreeNode(o.scopeRef,(n=(t=o.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&n!==void 0?n:null,o.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new q({scopeRef:null}),this.fastMap.set(null,this.root)}}class q{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let h=new z;const ie=new WeakMap;function et(e){let{triggerRef:t,isOpen:r,onClose:n}=e;$.useEffect(()=>{if(!r||n===null)return;let o=i=>{let a=i.target;if(!t.current||a instanceof Node&&!a.contains(t.current)||i.target instanceof HTMLInputElement||i.target instanceof HTMLTextAreaElement)return;let l=n||ie.get(t.current);l&&l()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[r,n,t])}const g=[];function tt(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:o,isDismissable:i=!1,isKeyboardDismissDisabled:a=!1,shouldCloseOnInteractOutside:l}=e;$.useEffect(()=>{if(o&&!g.includes(t))return g.push(t),()=>{let b=g.indexOf(t);b>=0&&g.splice(b,1)}},[o,t]);let s=()=>{g[g.length-1]===t&&r&&r()},c=b=>{(!l||l(b.target))&&g[g.length-1]===t&&(b.stopPropagation(),b.preventDefault())},d=b=>{(!l||l(b.target))&&(g[g.length-1]===t&&(b.stopPropagation(),b.preventDefault()),s())},u=b=>{b.key==="Escape"&&!a&&!b.nativeEvent.isComposing&&(b.stopPropagation(),b.preventDefault(),s())};ke({ref:t,onInteractOutside:i&&o?d:void 0,onInteractOutsideStart:c});let{focusWithinProps:f}=ce({isDisabled:!n,onBlurWithin:b=>{!b.relatedTarget||Me(b.relatedTarget)||(!l||l(b.relatedTarget))&&(r==null||r())}}),p=b=>{b.target===b.currentTarget&&b.preventDefault()};return{overlayProps:{onKeyDown:u,...f},underlayProps:{onPointerDown:p}}}function rt(e,t,r){let{type:n}=e,{isOpen:o}=t;$.useEffect(()=>{r&&r.current&&ie.set(r.current,t.close)});let i;n==="menu"?i=!0:n==="listbox"&&(i="listbox");let a=fe();return{triggerProps:{"aria-haspopup":i,"aria-expanded":o,"aria-controls":o?a:void 0,onPress:t.toggle},overlayProps:{id:a}}}const W=typeof document!="undefined"&&window.visualViewport,Ie=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let D=0,K;function nt(e={}){let{isDisabled:t}=e;E(()=>{if(!t)return D++,D===1&&(ve()?K=Ke():K=We()),()=>{D--,D===0&&K()}},[t])}function We(){return H(L(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),L(document.documentElement,"overflow","hidden"))}function Ke(){let e,t,r=c=>{e=te(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=L(e,"overscrollBehavior","contain"))},n=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},o=()=>{t&&t()},i=c=>{let d=c.target;He(d)&&(l(),d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",W&&(W.height<window.innerHeight?requestAnimationFrame(()=>{ee(d)}):W.addEventListener("resize",()=>ee(d),{once:!0}))}))},a=null,l=()=>{if(a)return;let c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,u=window.pageYOffset;a=H(F(window,"scroll",c),L(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),L(document.documentElement,"overflow","hidden"),L(document.body,"marginTop",`-${u}px`),()=>{window.scrollTo(d,u)}),window.scrollTo(0,0)},s=H(F(document,"touchstart",r,{passive:!1,capture:!0}),F(document,"touchmove",n,{passive:!1,capture:!0}),F(document,"touchend",o,{passive:!1,capture:!0}),F(document,"focus",i,!0));return()=>{t==null||t(),a==null||a(),s()}}function L(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function F(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function ee(e){let t=document.scrollingElement||document.documentElement,r=e;for(;r&&r!==t;){let n=te(r);if(n!==document.documentElement&&n!==document.body&&n!==r){let o=n.getBoundingClientRect().top,i=r.getBoundingClientRect().top;i>o+r.clientHeight&&(n.scrollTop+=i-o)}r=n.parentElement}}function He(e){return e instanceof HTMLInputElement&&!Ie.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const Ve=$.createContext({});function Be(){var e;return(e=$.useContext(Ve))!==null&&e!==void 0?e:{}}let O=new WeakMap,m=[];function ot(e,t=document.body){let r=new Set(e),n=new Set,o=s=>{for(let f of s.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(f);let c=f=>{if(r.has(f)||f.parentElement&&n.has(f.parentElement)&&f.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let p of r)if(f.contains(p))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},d=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:c}),u=c(s);if(u===NodeFilter.FILTER_ACCEPT&&i(s),u!==NodeFilter.FILTER_REJECT){let f=d.nextNode();for(;f!=null;)i(f),f=d.nextNode()}},i=s=>{var c;let d=(c=O.get(s))!==null&&c!==void 0?c:0;s.getAttribute("aria-hidden")==="true"&&d===0||(d===0&&s.setAttribute("aria-hidden","true"),n.add(s),O.set(s,d+1))};m.length&&m[m.length-1].disconnect(),o(t);let a=new MutationObserver(s=>{for(let c of s)if(!(c.type!=="childList"||c.addedNodes.length===0)&&![...r,...n].some(d=>d.contains(c.target))){for(let d of c.removedNodes)d instanceof Element&&(r.delete(d),n.delete(d));for(let d of c.addedNodes)(d instanceof HTMLElement||d instanceof SVGElement)&&(d.dataset.liveAnnouncer==="true"||d.dataset.reactAriaTopLayer==="true")?r.add(d):d instanceof Element&&o(d)}});a.observe(t,{childList:!0,subtree:!0});let l={visibleNodes:r,hiddenNodes:n,observe(){a.observe(t,{childList:!0,subtree:!0})},disconnect(){a.disconnect()}};return m.push(l),()=>{a.disconnect();for(let s of n){let c=O.get(s);c!=null&&(c===1?(s.removeAttribute("aria-hidden"),O.delete(s)):O.set(s,c-1))}l===m[m.length-1]?(m.pop(),m.length&&m[m.length-1].observe()):m.splice(m.indexOf(l),1)}}function it(e){let t=m[m.length-1];if(t&&!t.visibleNodes.has(e))return t.visibleNodes.add(e),()=>{t.visibleNodes.delete(e)}}const le=T.createContext(null);function lt(e){let t=ue(),{portalContainer:r=t?null:document.body,isExiting:n}=e,[o,i]=$.useState(!1),a=$.useMemo(()=>({contain:o,setContain:i}),[o,i]),{getContainer:l}=Be();if(!e.portalContainer&&l&&(r=l()),!r)return null;let s=e.children;return e.disableFocusManagement||(s=T.createElement(Le,{restoreFocus:!0,contain:(e.shouldContainFocus||o)&&!n},s)),s=T.createElement(le.Provider,{value:a},T.createElement(_e,null,s)),Ne.createPortal(s,r)}function at(){let e=$.useContext(le),t=e==null?void 0:e.setContain;E(()=>{t==null||t(!0)},[t])}export{Ze as $,rt as a,at as b,tt as c,nt as d,ot as e,lt as f,Le as g,et as h,it as i};
