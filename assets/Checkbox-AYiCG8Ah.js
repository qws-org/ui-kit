import{j as d}from"./jsx-runtime-BO8uF4Og.js";import{r as P}from"./index-D4H_InIO.js";import{c as C}from"./index-DW2zCSF8.js";import{F as k}from"./Flex-CUbF4rxe.js";import{T as L}from"./Typography-9R4xQ-tS.js";import{h as O}from"./useUiKitTheme-CDxjsRrw.js";import{$ as W}from"./useControlledState-Dxxc-Ijj.js";import{k as y}from"./useFocus-CgYBR30T.js";import{$ as B,a as F,b as H,c as M}from"./useFormValidation-CRkeO8jQ.js";import{$ as _,a as T,b as z}from"./useFocusable-C_0kSj5S.js";function A(e={}){let{isReadOnly:a}=e,[t,i]=W(e.isSelected,e.defaultSelected||!1,e.onChange),[l]=P.useState(t);function s(c){a||i(c)}function r(){a||i(!t)}var o;return{isSelected:t,defaultSelected:(o=e.defaultSelected)!==null&&o!==void 0?o:l,setSelected:s,toggle:r}}function U(e,a,t){let{isDisabled:i=!1,isReadOnly:l=!1,value:s,name:r,form:o,children:c,"aria-label":n,"aria-labelledby":h,validationState:f="valid",isInvalid:p,onPressStart:$,onPressEnd:m,onPressChange:v,onPress:u,onPressUp:x,onClick:g}=e,R=b=>{b.stopPropagation(),a.setSelected(b.target.checked)},{pressProps:j,isPressed:D}=_({onPressStart:$,onPressEnd:m,onPressChange:v,onPress:u,onPressUp:x,onClick:g,isDisabled:i}),{pressProps:V,isPressed:N}=_({onPressStart:$,onPressEnd:m,onPressChange:v,onPressUp:x,onClick:g,onPress(b){var S;u==null||u(b),a.toggle(),(S=t.current)===null||S===void 0||S.focus()},isDisabled:i||l}),{focusableProps:w}=T(e,t),q=y(j,w),E=z(e,{labelable:!0});return B(t,a.defaultSelected,a.setSelected),{labelProps:y(V,{onClick:b=>b.preventDefault()}),inputProps:y(E,{"aria-invalid":p||f==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":l||void 0,onChange:R,disabled:i,...s==null?{}:{value:s},name:r,form:o,type:"checkbox",...q}),isSelected:a.isSelected,isPressed:D||N,isDisabled:i,isReadOnly:l,isInvalid:p||f==="invalid"}}function G(e,a,t){let i=F({...e,value:a.isSelected}),{isInvalid:l,validationErrors:s,validationDetails:r}=i.displayValidation,{labelProps:o,inputProps:c,isSelected:n,isPressed:h,isDisabled:f,isReadOnly:p}=U({...e,isInvalid:l},a,t);H(e,i,t);let{isIndeterminate:$,isRequired:m,validationBehavior:v="aria"}=e;P.useEffect(()=>{t.current&&(t.current.indeterminate=!!$)});let{pressProps:u}=_({isDisabled:f||p,onPress(){let{[M]:x}=e,{commitValidation:g}=x||i;g()}});return{labelProps:y(o,u),inputProps:{...c,checked:n,"aria-required":m&&v==="aria"||void 0,required:m&&v==="native"},isSelected:n,isPressed:h,isDisabled:f,isReadOnly:p,isInvalid:l,validationErrors:s,validationDetails:r}}const J=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:12,fill:"none",...e,children:d.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M15.39.566a1.043 1.043 0 0 1 0 1.476L6 11.433a1.043 1.043 0 0 1-1.477 0L.61 7.52a1.043 1.043 0 1 1 1.476-1.475L5.261 9.22 13.915.566a1.043 1.043 0 0 1 1.475 0",clipRule:"evenodd"})});try{CheckboxIcon.displayName="CheckboxIcon",CheckboxIcon.__docgenInfo={description:"",displayName:"CheckboxIcon",props:{}}}catch{}const K=C({base:"flex items-center gap-2 cursor-pointer ",variants:{selected:{true:"",false:""}},defaultVariants:{selected:!1}}),Q=C({base:" transition-all ",variants:{selected:{true:"bg-[var(--colors-surface-primary-default)] border-[var(--colors-surface-primary-default)]  text-[var(--colors-text-primary-default)] ",false:"border-[var(--colors-border-primary)]"}},defaultVariants:{selected:!1}}),I=P.forwardRef(({children:e,value:a,onChange:t,className:i="",errorMessage:l,...s},r)=>{const o=P.useRef(null),c=r!=null?r:o,n=A({isSelected:a,onChange:t}),{inputProps:h}=G(s,n,c),f=O(s);return d.jsxs(k,{flexDirection:"column",children:[d.jsxs("label",{...f,className:K({selected:a,className:i}),children:[d.jsx("input",{...h,ref:c,type:"checkbox",className:"opacity-0 absolute "}),d.jsx(k,{as:"div",align:"center",justify:"center",className:Q({selected:n.isSelected}),border:{radius:"checkbox",width:"2px",color:"border-button"},cursor:"pointer",minWidth:24,width:24,height:24,minHeight:24,children:n.isSelected&&d.jsx(J,{})}),e]}),l&&d.jsx(L,{lineHeight:"body.mobile.small",fontSize:"body.mobile.small",fontWeight:"mobile.normal",md:{fontWeight:"desktop.normal"},as:"span",color:"text-destructive",children:l})]})});try{I.displayName="Checkbox",I.__docgenInfo={description:"",displayName:"Checkbox",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}}}catch{}export{I as C};
