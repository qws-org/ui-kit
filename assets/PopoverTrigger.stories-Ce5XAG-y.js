import{j as e}from"./jsx-runtime-BO8uF4Og.js";import{r as P,R as m}from"./index-D4H_InIO.js";import{n as U}from"./useFocus-CgYBR30T.js";import{c as O,b as z}from"./useFocusable-CMHRg9rf.js";import{$ as G,a as H,b as L}from"./Overlay-CvQAKytZ.js";import{P as K}from"./Popover-Dqrclc5m.js";import{B as Q}from"./Button-BpBnmJK5.js";import"./useUiKitTheme-DTw4gFRC.js";import"./index-BFEZrabH.js";import"./index-BVDRNj0I.js";import"./useControlledState-Dxxc-Ijj.js";import"./FocusScope-BAFQ_4OF.js";import"./useFocusWithin-DR07ZYpu.js";import"./getScrollParent-Bbxi3i5a.js";import"./context-BAxB0ZoE.js";import"./useLabels-BjMgE2Wj.js";import"./useLocalizedStringFormatter-_Pjder9J.js";import"./VisuallyHidden-CsyuHRxB.js";import"./useButton-YENtSbt8.js";import"./useUiKitComponents-BxXGiyE_.js";function W(o,t){let{role:i="dialog"}=o,n=U();n=o["aria-label"]?void 0:n;let s=P.useRef(!1);return P.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){O(t.current);let l=setTimeout(()=>{(document.activeElement===t.current||document.activeElement===document.body)&&(s.current=!0,t.current&&(t.current.blur(),O(t.current)),s.current=!1)},500);return()=>{clearTimeout(l)}}},[t]),G(),{dialogProps:{...z(o,{labelable:!0}),role:i,tabIndex:-1,"aria-labelledby":o["aria-labelledby"]||n,onBlur:l=>{s.current&&l.stopPropagation()}},titleProps:{id:n}}}const r=({placement:o="bottom",label:t,children:i,customTrigger:n,customPopover:s,...l})=>{const c=P.useRef(null),p=H(l),{triggerProps:x,overlayProps:y}=L({type:"dialog"},p);return e.jsxs(e.Fragment,{children:[n?m.cloneElement(n,{ref:c,...x,onClick:x.onPress}):e.jsx(Q,{ref:c,...x,children:t}),p.isOpen&&(s?m.cloneElement(s(c,p),{children:m.cloneElement(i,y)}):e.jsx(K,{triggerRef:c,state:p,placement:o,...l,children:m.cloneElement(i,y)}))]})};try{r.displayName="PopoverTrigger",r.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},customTrigger:{defaultValue:null,description:"",name:"customTrigger",required:!1,type:{name:"ReactElement<any, string | JSXElementConstructor<any>>"}},customPopover:{defaultValue:null,description:"",name:"customPopover",required:!1,type:{name:"((ref: RefObject<null>, state: OverlayTriggerState) => ReactElement<any, string | JSXElementConstructor<any>>)"}},offset:{defaultValue:null,description:"",name:"offset",required:!1,type:{name:"number"}},crossOffset:{defaultValue:null,description:"",name:"crossOffset",required:!1,type:{name:"number"}},placement:{defaultValue:{value:"bottom"},description:"",name:"placement",required:!1,type:{name:"enum",value:[{value:'"bottom"'},{value:'"bottom left"'},{value:'"bottom right"'},{value:'"bottom start"'},{value:'"bottom end"'},{value:'"top"'},{value:'"top left"'},{value:'"top right"'},{value:'"top start"'},{value:'"top end"'},{value:'"left"'},{value:'"left top"'},{value:'"left bottom"'},{value:'"start"'},{value:'"start top"'},{value:'"start bottom"'},{value:'"right"'},{value:'"right top"'},{value:'"right bottom"'},{value:'"end"'},{value:'"end top"'},{value:'"end bottom"'}]}}}}}catch{}const a=({title:o,children:t,dialogStyle:i,...n})=>{const s=P.useRef(null),{dialogProps:l,titleProps:c}=W(n,s);return e.jsxs("div",{...l,ref:s,className:"p-8",style:i,children:[o&&e.jsx("h3",{...c,className:"mt-0",children:o}),t]})};try{a.displayName="Dialog",a.__docgenInfo={description:"",displayName:"Dialog",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"ReactNode"}},dialogStyle:{defaultValue:null,description:"",name:"dialogStyle",required:!1,type:{name:"CSSProperties"}}}}}catch{}const be={title:"UI-Kit components/Popover",component:r,tags:["autodocs"],argTypes:{label:{description:"Текст, который будет отображаться на кнопке, открывающей поповер.",control:{type:"text"}},placement:{description:"Позиция поповера относительно триггера. Возможные значения: 'top', 'bottom', 'left', 'right', а также 'top-start', 'top-end', 'bottom-start', 'bottom-end', 'left-start', 'left-end', 'right-start', 'right-end'.",control:{type:"select"},options:["top","bottom","left","right","top-start","top-end","bottom-start","bottom-end","left-start","left-end","right-start","right-end"],defaultValue:"bottom"},offset:{description:"Смещение поповера относительно его якорного элемента вдоль основной оси. Этот проп определяет расстояние между поповером и элементом-триггером.",control:{type:"number"}},crossOffset:{description:"Смещение поповера относительно его якорного элемента вдоль крестовой оси. Этот проп определяет дополнительное расстояние между поповером и триггером по перпендикулярной оси.",control:{type:"number"}},children:{description:"Дочерний элемент, который будет отображаться внутри поповера."}}},d={render:()=>e.jsx(r,{label:"Open Popover",children:e.jsx(a,{title:"Popover title",children:"This is the content of the popover."})})},f={render:()=>e.jsx(r,{label:"Open Popover (Custom)",placement:"top end",children:e.jsx(a,{title:"Popover title",children:"This is the content of the popover with custom placement."})})},u={render:()=>e.jsx(r,{label:"Open Popover (Offset)",placement:"bottom end",offset:50,children:e.jsx(a,{title:"Popover title",children:"This is the content of the popover with offset placement."})})},g={render:()=>e.jsx(r,{label:"Open Popover (Cross Offset)",placement:"bottom",crossOffset:20,children:e.jsx(a,{title:"Popover title",children:"This is the content of the popover with cross offset placement."})})},v={render:()=>e.jsx(r,{label:"Open Popover (Offset + Cross Offset)",placement:"top end",offset:40,crossOffset:30,children:e.jsx(a,{title:"Popover title",children:"This is the content of the popover with combined offsets."})})},h={render:()=>e.jsx(r,{placement:"top end",label:"asd",customTrigger:e.jsx("button",{children:"Custom trigger"}),children:e.jsx(a,{dialogStyle:{padding:"8px 12px"},children:"Custom trigger content"})})},b={render:()=>e.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:e.jsx(r,{label:"Click",placement:"top",customPopover:(o,t)=>e.jsx(K,{bg:"red",md:{placement:"right"},triggerRef:o,state:t}),children:e.jsx(a,{children:"Media placement"})})})};var T,j,C;d.parameters={...d.parameters,docs:{...(T=d.parameters)==null?void 0:T.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover">
      <Dialog title="Popover title">This is the content of the popover.</Dialog>
    </PopoverTrigger>
}`,...(C=(j=d.parameters)==null?void 0:j.docs)==null?void 0:C.source}}};var $,D,_;f.parameters={...f.parameters,docs:{...($=f.parameters)==null?void 0:$.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Custom)" placement="top end">
      <Dialog title="Popover title">
        This is the content of the popover with custom placement.
      </Dialog>
    </PopoverTrigger>
}`,...(_=(D=f.parameters)==null?void 0:D.docs)==null?void 0:_.source}}};var S,E,R;u.parameters={...u.parameters,docs:{...(S=u.parameters)==null?void 0:S.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Offset)" placement="bottom end" offset={50}>
      <Dialog title="Popover title">
        This is the content of the popover with offset placement.
      </Dialog>
    </PopoverTrigger>
}`,...(R=(E=u.parameters)==null?void 0:E.docs)==null?void 0:R.source}}};var w,N,V;g.parameters={...g.parameters,docs:{...(w=g.parameters)==null?void 0:w.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Cross Offset)" placement="bottom" crossOffset={20}>
      <Dialog title="Popover title">
        This is the content of the popover with cross offset placement.
      </Dialog>
    </PopoverTrigger>
}`,...(V=(N=g.parameters)==null?void 0:N.docs)==null?void 0:V.source}}};var q,I,M;v.parameters={...v.parameters,docs:{...(q=v.parameters)==null?void 0:q.docs,source:{originalSource:`{
  render: () => <PopoverTrigger label="Open Popover (Offset + Cross Offset)" placement="top end" offset={40} crossOffset={30}>
      <Dialog title="Popover title">
        This is the content of the popover with combined offsets.
      </Dialog>
    </PopoverTrigger>
}`,...(M=(I=v.parameters)==null?void 0:I.docs)==null?void 0:M.source}}};var k,B,A;h.parameters={...h.parameters,docs:{...(k=h.parameters)==null?void 0:k.docs,source:{originalSource:`{
  render: () => <PopoverTrigger placement="top end" label="asd" customTrigger={<button>Custom trigger</button>}>
      <Dialog dialogStyle={{
      padding: "8px 12px"
    }}>
        Custom trigger content
      </Dialog>
    </PopoverTrigger>
}`,...(A=(B=h.parameters)==null?void 0:B.docs)==null?void 0:A.source}}};var J,X,F;b.parameters={...b.parameters,docs:{...(J=b.parameters)==null?void 0:J.docs,source:{originalSource:`{
  render: () => <div className="w-full h-screen flex items-center justify-center">
      <PopoverTrigger label="Click" placement="top" customPopover={(ref, state) => <Popover bg="red" md={{
      placement: "right"
    }} triggerRef={ref} state={state} />}>
        <Dialog>Media placement</Dialog>
      </PopoverTrigger>
    </div>
}`,...(F=(X=b.parameters)==null?void 0:X.docs)==null?void 0:F.source}}};const Pe=["Default","CustomPlacement","OffsetPlacement","CrossOffsetPlacement","OffsetAndCrossOffset","CustomTrigger","MediaPlacement"];export{g as CrossOffsetPlacement,f as CustomPlacement,h as CustomTrigger,d as Default,b as MediaPlacement,v as OffsetAndCrossOffset,u as OffsetPlacement,Pe as __namedExportsOrder,be as default};
