import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{r as b}from"./index-D4lIrffr.js";import{$ as R}from"./mergeProps-BZNQxkBP.js";import{$ as C,a as j,b as w}from"./useFormValidation-Q-SgiexM.js";import{$ as P,a as D,d as S}from"./useFocusable-N1sfzKbq.js";import{$ as N}from"./filterDOMProps-DievmF8q.js";import{l as V}from"./useFocus-DvfpPP1Y.js";import{c as k}from"./index-DW2zCSF8.js";import{F as E}from"./Flex-DhhN2nPU.js";import{$ as L}from"./useControlledState-YrJM5BK_.js";function q(e={}){let{isReadOnly:a}=e,[t,r]=L(e.isSelected,e.defaultSelected||!1,e.onChange);function l(i){a||r(i)}function s(){a||r(!t)}return{isSelected:t,setSelected:l,toggle:s}}function O(e,a,t){let r=b.useRef(a),l=V(()=>{t&&t(r.current)});b.useEffect(()=>{var s;let i=e==null||(s=e.current)===null||s===void 0?void 0:s.form;return i==null||i.addEventListener("reset",l),()=>{i==null||i.removeEventListener("reset",l)}},[e,l])}const F=e=>o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:12,fill:"none",...e,children:o.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M15.39.566a1.043 1.043 0 0 1 0 1.476L6 11.433a1.043 1.043 0 0 1-1.477 0L.61 7.52a1.043 1.043 0 1 1 1.476-1.475L5.261 9.22 13.915.566a1.043 1.043 0 0 1 1.475 0",clipRule:"evenodd"})});try{CheckboxIcon.displayName="CheckboxIcon",CheckboxIcon.__docgenInfo={description:"",displayName:"CheckboxIcon",props:{}}}catch{}function W(e,a,t){let{isDisabled:r=!1,isReadOnly:l=!1,value:s,name:i,children:p,"aria-label":f,"aria-labelledby":n,validationState:c="valid",isInvalid:u}=e,m=d=>{d.stopPropagation(),a.setSelected(d.target.checked)},{pressProps:x,isPressed:v}=P({isDisabled:r}),{pressProps:$,isPressed:g}=P({onPress(){var d;a.toggle(),(d=t.current)===null||d===void 0||d.focus()},isDisabled:r||l}),{focusableProps:h}=D(e,t),y=S(x,h),I=N(e,{labelable:!0});return O(t,a.isSelected,a.setSelected),{labelProps:S($,{onClick:d=>d.preventDefault()}),inputProps:S(I,{"aria-invalid":u||c==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":l||void 0,onChange:m,disabled:r,...s==null?{}:{value:s},name:i,type:"checkbox",...y}),isSelected:a.isSelected,isPressed:v||g,isDisabled:r,isReadOnly:l,isInvalid:u||c==="invalid"}}function z(e,a,t){let r=C({...e,value:a.isSelected}),{isInvalid:l,validationErrors:s,validationDetails:i}=r.displayValidation,{labelProps:p,inputProps:f,isSelected:n,isPressed:c,isDisabled:u,isReadOnly:m}=W({...e,isInvalid:l},a,t);j(e,r,t);let{isIndeterminate:x,isRequired:v,validationBehavior:$="aria"}=e;b.useEffect(()=>{t.current&&(t.current.indeterminate=!!x)});let{pressProps:g}=P({isDisabled:u||m,onPress(){let{[w]:h}=e,{commitValidation:y}=h||r;y()}});return{labelProps:R(p,g),inputProps:{...f,checked:n,"aria-required":v&&$==="aria"||void 0,required:v&&$==="native"},isSelected:n,isPressed:c,isDisabled:u,isReadOnly:m,isInvalid:l,validationErrors:s,validationDetails:i}}const B=k({base:"flex items-center gap-2 cursor-pointer ",variants:{selected:{true:"",false:""}},defaultVariants:{selected:!1}}),H=k({base:" h-6 border-2 rounded transition-all cursor-pointer",variants:{selected:{true:"bg-[var(--colors-surface-primary-default)] border-[var(--colors-surface-primary-default)]  text-[var(--colors-text-primary-default)] ",false:"border-[var(--colors-border-primary)]"}},defaultVariants:{selected:!1}}),_=b.forwardRef(({children:e,value:a,onChange:t,className:r="",errorMessage:l,...s},i)=>{const p=b.useRef(null),f=i!=null?i:p,n=q({isSelected:a,onChange:t}),{inputProps:c}=z(s,n,f);return o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:B({selected:a,className:r}),children:[o.jsx("input",{...c,ref:f,type:"checkbox",className:"opacity-0 absolute w-6 h-6"}),o.jsx(E,{as:"div",align:"center",justify:"center",className:H({selected:n.isSelected}),minWidth:24,width:24,height:24,minHeight:24,children:n.isSelected&&o.jsx(F,{})}),e]}),l&&o.jsx("span",{className:"text-[var(--colors-text-destructive)] [font-size:var(--fontSize-mobile-small-body)] [line-height:var(--lineHeight-mobile-small-body)] [font-weight:var(--fontWeight-mobile-normal)] md:[font-weight:var(--fontWeight-desktop-normal)]",children:l})]})});try{_.displayName="Checkbox",_.__docgenInfo={description:"",displayName:"Checkbox",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}}}catch{}export{_ as C};
