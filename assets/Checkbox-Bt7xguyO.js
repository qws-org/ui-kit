import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{r as h}from"./index-D4lIrffr.js";import{$ as L}from"./mergeProps-CARUYZZ9.js";import{$ as q,a as O,b as F}from"./useFormValidation-BN6RuDsk.js";import{$ as _,a as W,d as P}from"./useFocusable-B4qsG7Rm.js";import{$ as z}from"./filterDOMProps-CghfNOdR.js";import{l as B}from"./useFocus-DvAqnNhs.js";import{c as I}from"./index-DW2zCSF8.js";import{F as H}from"./Flex-b_z6POeh.js";import{$ as M}from"./useControlledState-YrJM5BK_.js";function U(e={}){let{isReadOnly:i}=e,[a,t]=M(e.isSelected,e.defaultSelected||!1,e.onChange),[l]=h.useState(a);function r(n){i||t(n)}function s(){i||t(!a)}var o;return{isSelected:a,defaultSelected:(o=e.defaultSelected)!==null&&o!==void 0?o:l,setSelected:r,toggle:s}}function A(e,i,a){let t=B(()=>{a&&a(i)});h.useEffect(()=>{var l;let r=e==null||(l=e.current)===null||l===void 0?void 0:l.form;return r==null||r.addEventListener("reset",t),()=>{r==null||r.removeEventListener("reset",t)}},[e,t])}const G=e=>d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:12,fill:"none",...e,children:d.jsx("path",{fill:"#fff",fillRule:"evenodd",d:"M15.39.566a1.043 1.043 0 0 1 0 1.476L6 11.433a1.043 1.043 0 0 1-1.477 0L.61 7.52a1.043 1.043 0 1 1 1.476-1.475L5.261 9.22 13.915.566a1.043 1.043 0 0 1 1.475 0",clipRule:"evenodd"})});try{CheckboxIcon.displayName="CheckboxIcon",CheckboxIcon.__docgenInfo={description:"",displayName:"CheckboxIcon",props:{}}}catch{}function J(e,i,a){let{isDisabled:t=!1,isReadOnly:l=!1,value:r,name:s,form:o,children:n,"aria-label":c,"aria-labelledby":x,validationState:b="valid",isInvalid:p,onPressStart:g,onPressEnd:m,onPressChange:v,onPress:f,onPressUp:$,onClick:y}=e,C=u=>{u.stopPropagation(),i.setSelected(u.target.checked)},{pressProps:R,isPressed:j}=_({onPressStart:g,onPressEnd:m,onPressChange:v,onPress:f,onPressUp:$,onClick:y,isDisabled:t}),{pressProps:w,isPressed:D}=_({onPressStart:g,onPressEnd:m,onPressChange:v,onPressUp:$,onClick:y,onPress(u){var S;f==null||f(u),i.toggle(),(S=a.current)===null||S===void 0||S.focus()},isDisabled:t||l}),{focusableProps:E}=W(e,a),N=P(R,E),V=z(e,{labelable:!0});return A(a,i.defaultSelected,i.setSelected),{labelProps:P(w,{onClick:u=>u.preventDefault()}),inputProps:P(V,{"aria-invalid":p||b==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":l||void 0,onChange:C,disabled:t,...r==null?{}:{value:r},name:s,form:o,type:"checkbox",...N}),isSelected:i.isSelected,isPressed:j||D,isDisabled:t,isReadOnly:l,isInvalid:p||b==="invalid"}}function K(e,i,a){let t=q({...e,value:i.isSelected}),{isInvalid:l,validationErrors:r,validationDetails:s}=t.displayValidation,{labelProps:o,inputProps:n,isSelected:c,isPressed:x,isDisabled:b,isReadOnly:p}=J({...e,isInvalid:l},i,a);O(e,t,a);let{isIndeterminate:g,isRequired:m,validationBehavior:v="aria"}=e;h.useEffect(()=>{a.current&&(a.current.indeterminate=!!g)});let{pressProps:f}=_({isDisabled:b||p,onPress(){let{[F]:$}=e,{commitValidation:y}=$||t;y()}});return{labelProps:L(o,f),inputProps:{...n,checked:c,"aria-required":m&&v==="aria"||void 0,required:m&&v==="native"},isSelected:c,isPressed:x,isDisabled:b,isReadOnly:p,isInvalid:l,validationErrors:r,validationDetails:s}}const Q=I({base:"flex items-center gap-2 cursor-pointer ",variants:{selected:{true:"",false:""}},defaultVariants:{selected:!1}}),T=I({base:" h-6 border-2 rounded transition-all cursor-pointer",variants:{selected:{true:"bg-[var(--colors-surface-primary-default)] border-[var(--colors-surface-primary-default)]  text-[var(--colors-text-primary-default)] ",false:"border-[var(--colors-border-primary)]"}},defaultVariants:{selected:!1}}),k=h.forwardRef(({children:e,value:i,onChange:a,className:t="",errorMessage:l,...r},s)=>{const o=h.useRef(null),n=s!=null?s:o,c=U({isSelected:i,onChange:a}),{inputProps:x}=K(r,c,n);return d.jsxs(d.Fragment,{children:[d.jsxs("label",{className:Q({selected:i,className:t}),children:[d.jsx("input",{...x,ref:n,type:"checkbox",className:"opacity-0 absolute w-6 h-6"}),d.jsx(H,{as:"div",align:"center",justify:"center",className:T({selected:c.isSelected}),minWidth:24,width:24,height:24,minHeight:24,children:c.isSelected&&d.jsx(G,{})}),e]}),l&&d.jsx("span",{className:"text-[var(--colors-text-destructive)] [font-size:var(--fontSize-mobile-small-body)] [line-height:var(--lineHeight-mobile-small-body)] [font-weight:var(--fontWeight-mobile-normal)] md:[font-weight:var(--fontWeight-desktop-normal)]",children:l})]})});try{k.displayName="Checkbox",k.__docgenInfo={description:"",displayName:"Checkbox",props:{value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"boolean"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},errorMessage:{defaultValue:null,description:"",name:"errorMessage",required:!1,type:{name:"string"}}}}}catch{}export{k as C};
