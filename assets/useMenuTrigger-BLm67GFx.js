import{g as le,e as ne,h as ge}from"./useSelectableItem-BGDl6qDt.js";import{U as de,d as ce,X as fe,a1 as m,r as pe,a4 as he,R as P}from"./useUiKitTheme-C5kvrfGz.js";import{r as f}from"./index-D4H_InIO.js";import{a as B,$ as ye}from"./DOMLayoutDelegate-BC98u0lt.js";import{a as $e}from"./useOverlayTrigger-C_CsG6bP.js";const A=new WeakMap;function Ke(o){let e=A.get(o);if(e!=null)return e;let t=0,r=u=>{for(let a of u)a.type==="section"?r(le(a,o)):a.type==="item"&&t++};return r(o),A.set(o,t),t}let D=!1,y=0;function be(){D=!0,setTimeout(()=>{D=!1},50)}function E(o){o.pointerType==="touch"&&be()}function xe(){if(typeof document!="undefined")return y===0&&typeof PointerEvent!="undefined"&&document.addEventListener("pointerup",E),y++,()=>{y--,!(y>0)&&typeof PointerEvent!="undefined"&&document.removeEventListener("pointerup",E)}}function Ce(o){let{onHoverStart:e,onHoverChange:t,onHoverEnd:r,isDisabled:u}=o,[a,n]=f.useState(!1),i=f.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;f.useEffect(xe,[]);let{addGlobalListener:g,removeAllGlobalListeners:d}=de(),{hoverProps:p,triggerHoverEnd:$}=f.useMemo(()=>{let b=(l,c)=>{if(i.pointerType=c,u||c==="touch"||i.isHovered||!l.currentTarget.contains(l.target))return;i.isHovered=!0;let h=l.currentTarget;i.target=h,g(ce(l.target),"pointerover",v=>{i.isHovered&&i.target&&!fe(i.target,v.target)&&s(v,v.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:h,pointerType:c}),t&&t(!0),n(!0)},s=(l,c)=>{let h=i.target;i.pointerType="",i.target=null,!(c==="touch"||!i.isHovered||!h)&&(i.isHovered=!1,d(),r&&r({type:"hoverend",target:h,pointerType:c}),t&&t(!1),n(!1))},x={};return typeof PointerEvent!="undefined"&&(x.onPointerEnter=l=>{D&&l.pointerType==="mouse"||b(l,l.pointerType)},x.onPointerLeave=l=>{!u&&l.currentTarget.contains(l.target)&&s(l,l.pointerType)}),{hoverProps:x,triggerHoverEnd:s}},[e,t,r,u,i,g,d]);return f.useEffect(()=>{u&&$({currentTarget:i.target},i.pointerType)},[u]),{hoverProps:p,isHovered:a}}class ve{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let r=e;for(;r!=null;){let u=this.collection.getItem(r);if((u==null?void 0:u.type)==="item"&&!this.isDisabled(u))return r;r=t(r)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,r=>this.collection.getKeyAfter(r))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,r=>this.collection.getKeyBefore(r))}findKey(e,t,r){let u=e,a=this.layoutDelegate.getItemRect(u);if(!a||u==null)return null;let n=a;do{if(u=t(u),u==null)break;a=this.layoutDelegate.getItemRect(u)}while(a&&r(n,a)&&u!=null);return u}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,r=>this.layoutDelegate[t](r))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,r=>this.getNextColumn(r,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!m(t))return this.getFirstKey();let u=e;if(this.orientation==="horizontal"){let a=Math.max(0,r.x+r.width-this.layoutDelegate.getVisibleRect().width);for(;r&&r.x>a&&u!=null;)u=this.getKeyAbove(u),r=u==null?null:this.layoutDelegate.getItemRect(u)}else{let a=Math.max(0,r.y+r.height-this.layoutDelegate.getVisibleRect().height);for(;r&&r.y>a&&u!=null;)u=this.getKeyAbove(u),r=u==null?null:this.layoutDelegate.getItemRect(u)}return u!=null?u:this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,r=this.layoutDelegate.getItemRect(e);if(!r)return null;if(t&&!m(t))return this.getLastKey();let u=e;if(this.orientation==="horizontal"){let a=Math.min(this.layoutDelegate.getContentSize().width,r.y-r.width+this.layoutDelegate.getVisibleRect().width);for(;r&&r.x<a&&u!=null;)u=this.getKeyBelow(u),r=u==null?null:this.layoutDelegate.getItemRect(u)}else{let a=Math.min(this.layoutDelegate.getContentSize().height,r.y-r.height+this.layoutDelegate.getVisibleRect().height);for(;r&&r.y<a&&u!=null;)u=this.getKeyBelow(u),r=u==null?null:this.layoutDelegate.getItemRect(u)}return u!=null?u:this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let r=this.collection,u=t||this.getFirstKey();for(;u!=null;){let a=r.getItem(u);if(!a)return null;let n=a.textValue.slice(0,e.length);if(a.textValue&&this.collator.compare(n,e)===0)return u;u=this.getNextKey(u)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new B(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new B(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function Me(o){let{selectionManager:e,collection:t,disabledKeys:r,ref:u,keyboardDelegate:a,layoutDelegate:n}=o,i=ye({usage:"search",sensitivity:"base"}),g=e.disabledBehavior,d=f.useMemo(()=>a||new ve({collection:t,disabledKeys:r,disabledBehavior:g,ref:u,collator:i,layoutDelegate:n}),[a,n,t,r,u,i,g]),{collectionProps:p}=ne({...o,ref:u,selectionManager:e,keyboardDelegate:d});return{listProps:p}}var K={};K={longPressMessage:"اضغط مطولاً أو اضغط على Alt + السهم لأسفل لفتح القائمة"};var C={};C={longPressMessage:"Натиснете продължително или натиснете Alt+ стрелка надолу, за да отворите менюто"};var M={};M={longPressMessage:"Dlouhým stiskem nebo stisknutím kláves Alt + šipka dolů otevřete nabídku"};var k={};k={longPressMessage:"Langt tryk eller tryk på Alt + pil ned for at åbne menuen"};var w={};w={longPressMessage:"Drücken Sie lange oder drücken Sie Alt + Nach-unten, um das Menü zu öffnen"};var F={};F={longPressMessage:"Πιέστε παρατεταμένα ή πατήστε Alt + κάτω βέλος για να ανοίξετε το μενού"};var N={};N={longPressMessage:"Long press or press Alt + ArrowDown to open menu"};var R={};R={longPressMessage:"Mantenga pulsado o pulse Alt + flecha abajo para abrir el menú"};var S={};S={longPressMessage:"Menüü avamiseks vajutage pikalt või vajutage klahve Alt + allanool"};var z={};z={longPressMessage:"Avaa valikko painamalla pohjassa tai näppäinyhdistelmällä Alt + Alanuoli"};var L={};L={longPressMessage:"Appuyez de manière prolongée ou appuyez sur Alt + Flèche vers le bas pour ouvrir le menu."};var T={};T={longPressMessage:"לחץ לחיצה ארוכה או הקש Alt + ArrowDown כדי לפתוח את התפריט"};var j={};j={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dolje za otvaranje izbornika"};var H={};H={longPressMessage:"Nyomja meg hosszan, vagy nyomja meg az Alt + lefele nyíl gombot a menü megnyitásához"};var I={};I={longPressMessage:"Premere a lungo o premere Alt + Freccia giù per aprire il menu"};var O={};O={longPressMessage:"長押しまたは Alt+下矢印キーでメニューを開く"};var G={};G={longPressMessage:"길게 누르거나 Alt + 아래쪽 화살표를 눌러 메뉴 열기"};var V={};V={longPressMessage:"Norėdami atidaryti meniu, nuspaudę palaikykite arba paspauskite „Alt + ArrowDown“."};var U={};U={longPressMessage:"Lai atvērtu izvēlni, turiet nospiestu vai nospiediet taustiņu kombināciju Alt + lejupvērstā bultiņa"};var _={};_={longPressMessage:"Langt trykk eller trykk Alt + PilNed for å åpne menyen"};var X={};X={longPressMessage:"Druk lang op Alt + pijl-omlaag of druk op Alt om het menu te openen"};var W={};W={longPressMessage:"Naciśnij i przytrzymaj lub naciśnij klawisze Alt + Strzałka w dół, aby otworzyć menu"};var Y={};Y={longPressMessage:"Pressione e segure ou pressione Alt + Seta para baixo para abrir o menu"};var Z={};Z={longPressMessage:"Prima continuamente ou prima Alt + Seta Para Baixo para abrir o menu"};var J={};J={longPressMessage:"Apăsați lung sau apăsați pe Alt + săgeată în jos pentru a deschide meniul"};var q={};q={longPressMessage:"Нажмите и удерживайте или нажмите Alt + Стрелка вниз, чтобы открыть меню"};var Q={};Q={longPressMessage:"Ponuku otvoríte dlhým stlačením alebo stlačením klávesu Alt + klávesu so šípkou nadol"};var ee={};ee={longPressMessage:"Za odprtje menija pritisnite in držite gumb ali pritisnite Alt+puščica navzdol"};var te={};te={longPressMessage:"Dugo pritisnite ili pritisnite Alt + strelicu prema dole da otvorite meni"};var ue={};ue={longPressMessage:"Håll nedtryckt eller tryck på Alt + pil nedåt för att öppna menyn"};var re={};re={longPressMessage:"Menüyü açmak için uzun basın veya Alt + Aşağı Ok tuşuna basın"};var ae={};ae={longPressMessage:"Довго або звичайно натисніть комбінацію клавіш Alt і стрілка вниз, щоб відкрити меню"};var se={};se={longPressMessage:"长按或按 Alt + 向下方向键以打开菜单"};var ie={};ie={longPressMessage:"長按或按 Alt+向下鍵以開啟功能表"};var oe={};oe={"ar-AE":K,"bg-BG":C,"cs-CZ":M,"da-DK":k,"de-DE":w,"el-GR":F,"en-US":N,"es-ES":R,"et-EE":S,"fi-FI":z,"fr-FR":L,"he-IL":T,"hr-HR":j,"hu-HU":H,"it-IT":I,"ja-JP":O,"ko-KR":G,"lt-LT":V,"lv-LV":U,"nb-NO":_,"nl-NL":X,"pl-PL":W,"pt-BR":Y,"pt-PT":Z,"ro-RO":J,"ru-RU":q,"sk-SK":Q,"sl-SI":ee,"sr-SP":te,"sv-SE":ue,"tr-TR":re,"uk-UA":ae,"zh-CN":se,"zh-TW":ie};function De(o){return o&&o.__esModule?o.default:o}function ke(o,e,t){let{type:r="menu",isDisabled:u,trigger:a="press"}=o,n=pe(),{triggerProps:i,overlayProps:g}=$e({type:r},e,t),d=s=>{if(!u&&!(a==="longPress"&&!s.altKey)&&t&&t.current)switch(s.key){case"Enter":case" ":if(a==="longPress"||s.isDefaultPrevented())return;case"ArrowDown":"continuePropagation"in s||s.stopPropagation(),s.preventDefault(),e.toggle("first");break;case"ArrowUp":"continuePropagation"in s||s.stopPropagation(),s.preventDefault(),e.toggle("last");break;default:"continuePropagation"in s&&s.continuePropagation()}},p=he(De(oe),"@react-aria/menu"),{longPressProps:$}=ge({isDisabled:u||a!=="longPress",accessibilityDescription:p.format("longPressMessage"),onLongPressStart(){e.close()},onLongPress(){e.open("first")}}),b={preventFocusOnPress:!0,onPressStart(s){s.pointerType!=="touch"&&s.pointerType!=="keyboard"&&!u&&(P(s.target),e.open(s.pointerType==="virtual"?"first":null))},onPress(s){s.pointerType==="touch"&&!u&&(P(s.target),e.toggle())}};return delete i.onPress,{menuTriggerProps:{...i,...a==="press"?b:$,id:n,onKeyDown:d},menuProps:{...g,"aria-labelledby":n,autoFocus:e.focusStrategy||!0,onClose:e.close}}}export{Me as $,Ke as a,Ce as b,ve as c,ke as d};
