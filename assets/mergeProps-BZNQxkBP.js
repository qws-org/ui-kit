import{R as d,r as l}from"./index-D4lIrffr.js";import{o as $,p as b}from"./useFocus-DvfpPP1Y.js";const s=typeof document!="undefined"?d.useLayoutEffect:()=>{};function i(f){const e=l.useRef(null);return s(()=>{e.current=f},[f]),l.useCallback((...c)=>{const n=e.current;return n==null?void 0:n(...c)},[])}function p(f){let[e,c]=l.useState(f),n=l.useRef(null),t=i(()=>{if(!n.current)return;let r=n.current.next();if(r.done){n.current=null;return}e===r.value?t():c(r.value)});s(()=>{n.current&&t()});let u=i(r=>{n.current=r(e),t()});return[e,u]}let x=!!(typeof window!="undefined"&&window.document&&window.document.createElement),o=new Map,a;typeof FinalizationRegistry!="undefined"&&(a=new FinalizationRegistry(f=>{o.delete(f)}));function y(f){let[e,c]=l.useState(f),n=l.useRef(null),t=$(e),u=l.useRef(null);if(a&&a.register(u,t),x){const r=o.get(t);r&&!r.includes(n)?r.push(n):o.set(t,[n])}return s(()=>{let r=t;return()=>{a&&a.unregister(u),o.delete(r)}},[t]),l.useEffect(()=>{let r=n.current;return r&&c(r),()=>{r&&(n.current=null)}}),t}function m(f,e){if(f===e)return f;let c=o.get(f);if(c)return c.forEach(t=>t.current=e),e;let n=o.get(e);return n?(n.forEach(t=>t.current=f),f):e}function w(f=[]){let e=y(),[c,n]=p(e),t=l.useCallback(()=>{n(function*(){yield e,yield document.getElementById(e)?e:void 0})},[e,n]);return s(t,[e,t,...f]),c}function R(...f){return(...e)=>{for(let c of f)typeof c=="function"&&c(...e)}}function I(...f){let e={...f[0]};for(let c=1;c<f.length;c++){let n=f[c];for(let t in n){let u=e[t],r=n[t];typeof u=="function"&&typeof r=="function"&&t[0]==="o"&&t[1]==="n"&&t.charCodeAt(2)>=65&&t.charCodeAt(2)<=90?e[t]=R(u,r):(t==="className"||t==="UNSAFE_className")&&typeof u=="string"&&typeof r=="string"?e[t]=b(u,r):t==="id"&&u&&r?e.id=m(u,r):e[t]=r!==void 0?r:u}}return e}export{I as $,i as a,w as b,y as c,R as d,s as e};
