import{l as E,k as V,o as Ee,p as me,s as xe,t as we,u as j,v as Se,w as N,x as ue,e as k,c as ke,i as Ke,j as Ce,h as P,g as y,y as _e,z as Ie,A as Ae,B as te,f as re,r as De,b as Le}from"./useFocus-DvAqnNhs.js";import{r as $,R as de}from"./index-D4lIrffr.js";import"./index-D5gmOSW9.js";function Me(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oe(e,t,n){Me(e,t),t.set(e,n)}function Ue(e){let[t,n]=$.useState(e),a=$.useRef(null),o=E(()=>{if(!a.current)return;let l=a.current.next();if(l.done){a.current=null;return}t===l.value?o():n(l.value)});V(()=>{a.current&&o()});let c=E(l=>{a.current=l(t),o()});return[t,c]}let Re=!!(typeof window!="undefined"&&window.document&&window.document.createElement),I=new Map,U;typeof FinalizationRegistry!="undefined"&&(U=new FinalizationRegistry(e=>{I.delete(e)}));function Fe(e){let[t,n]=$.useState(e),a=$.useRef(null),o=Ee(t),c=$.useRef(null);if(U&&U.register(c,o),Re){const l=I.get(o);l&&!l.includes(a)?l.push(a):I.set(o,[a])}return V(()=>{let l=o;return()=>{U&&U.unregister(c),I.delete(l)}},[o]),$.useEffect(()=>{let l=a.current;return l&&n(l),()=>{l&&(a.current=null)}}),o}function He(e,t){if(e===t)return e;let n=I.get(e);if(n)return n.forEach(o=>o.current=t),t;let a=I.get(t);return a?(a.forEach(o=>o.current=e),e):t}function ot(e=[]){let t=Fe(),[n,a]=Ue(t),o=$.useCallback(()=>{a(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,a]);return V(o,[t,o,...e]),n}function pe(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function z(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let a=e[n];for(let o in a){let c=t[o],l=a[o];typeof c=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=pe(c,l):(o==="className"||o==="UNSAFE_className")&&typeof c=="string"&&typeof l=="string"?t[o]=me(c,l):o==="id"&&c&&l?t.id=He(c,l):t[o]=l!==void 0?l:c}}return t}const Ne=$.createContext({isNative:!0,open:Ye,useHref:e=>e});function ze(){return $.useContext(Ne)}function Ve(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function A(e,t,n=!0){var a,o;let{metaKey:c,ctrlKey:l,altKey:b,shiftKey:g}=t;xe()&&(!((o=window.event)===null||o===void 0||(a=o.type)===null||a===void 0)&&a.startsWith("key"))&&e.target==="_blank"&&(j()?c=!0:l=!0);let m=we()&&j()&&!Se()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:c,ctrlKey:l,altKey:b,shiftKey:g}):new MouseEvent("click",{metaKey:c,ctrlKey:l,altKey:b,shiftKey:g,bubbles:!0,cancelable:!0});A.isOpening=n,N(e),e.dispatchEvent(m),A.isOpening=!1}A.isOpening=!1;function Be(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function Ye(e,t){Be(e,n=>A(n,t))}function lt(e){let t=ze();var n;const a=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?a:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}function ft(e,t,n,a){!t.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&Ve(e.currentTarget,e)&&n&&(e.preventDefault(),t.open(e.currentTarget,e,n,a))}let x=new Map,W=new Set;function ne(){if(typeof window=="undefined")return;function e(a){return"propertyName"in a}let t=a=>{if(!e(a)||!a.target)return;let o=x.get(a.target);o||(o=new Set,x.set(a.target,o),a.target.addEventListener("transitioncancel",n,{once:!0})),o.add(a.propertyName)},n=a=>{if(!e(a)||!a.target)return;let o=x.get(a.target);if(o&&(o.delete(a.propertyName),o.size===0&&(a.target.removeEventListener("transitioncancel",n),x.delete(a.target)),x.size===0)){for(let c of W)c();W.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document!="undefined"&&(document.readyState!=="loading"?ne():document.addEventListener("DOMContentLoaded",ne));function Ge(){for(const[e]of x)"isConnected"in e&&!e.isConnected&&x.delete(e)}function $e(e){requestAnimationFrame(()=>{Ge(),x.size===0?e():W.add(e)})}function be(e,t){V(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}let _="default",q="",H=new WeakMap;function Xe(e){if(ue()){if(_==="default"){const t=k(e);q=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}_="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";H.set(e,e.style[t]),e.style[t]="none"}}function ae(e){if(ue()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{$e(()=>{if(_==="restoring"){const t=k(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=q||""),q="",_="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&H.has(e)){let t=H.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),H.delete(e)}}const ve=de.createContext({register:()=>{}});ve.displayName="PressResponderContext";function je(e,t){return t.get?t.get.call(e):t.value}function ye(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function We(e,t){var n=ye(e,t,"get");return je(e,n)}function qe(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ie(e,t,n){var a=ye(e,t,"set");return qe(e,a,n),n}function Je(e){let t=$.useContext(ve);if(t){let{register:n,...a}=t;e=z(a,e),n()}return be(t,e.ref),e}var R=new WeakMap;class F{continuePropagation(){ie(this,R,!1)}get shouldStopPropagation(){return We(this,R)}constructor(t,n,a,o){Oe(this,R,{writable:!0,value:void 0}),ie(this,R,!0);var c;let l=(c=o==null?void 0:o.target)!==null&&c!==void 0?c:a.currentTarget;const b=l==null?void 0:l.getBoundingClientRect();let g,m=0,D,T=null;a.clientX!=null&&a.clientY!=null&&(D=a.clientX,T=a.clientY),b&&(D!=null&&T!=null?(g=D-b.left,m=T-b.top):(g=b.width/2,m=b.height/2)),this.type=t,this.pointerType=n,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.x=g,this.y=m}}const se=Symbol("linkClicked"),oe="react-aria-pressable-style",le="data-react-aria-pressable";function ct(e){let{onPress:t,onPressChange:n,onPressStart:a,onPressEnd:o,onPressUp:c,onClick:l,isDisabled:b,isPressed:g,preventFocusOnPress:m,shouldCancelOnPointerExit:D,allowTextSelectionOnPress:T,ref:B,...Pe}=Je(e),[Te,Q]=$.useState(!1),K=$.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:L,removeAllGlobalListeners:Y}=ke(),M=E((r,f)=>{let p=K.current;if(b||p.didFirePressStart)return!1;let i=!0;if(p.isTriggeringEvent=!0,a){let u=new F("pressstart",f,r);a(u),i=u.shouldStopPropagation}return n&&n(!0),p.isTriggeringEvent=!1,p.didFirePressStart=!0,Q(!0),i}),C=E((r,f,p=!0)=>{let i=K.current;if(!i.didFirePressStart)return!1;i.didFirePressStart=!1,i.isTriggeringEvent=!0;let u=!0;if(o){let s=new F("pressend",f,r);o(s),u=s.shouldStopPropagation}if(n&&n(!1),Q(!1),t&&p&&!b){let s=new F("press",f,r);t(s),u&&(u=s.shouldStopPropagation)}return i.isTriggeringEvent=!1,u}),O=E((r,f)=>{let p=K.current;if(b)return!1;if(c){p.isTriggeringEvent=!0;let i=new F("pressup",f,r);return c(i),p.isTriggeringEvent=!1,i.shouldStopPropagation}return!0}),w=E(r=>{let f=K.current;if(f.isPressed&&f.target){f.didFirePressStart&&f.pointerType!=null&&C(S(f.target,r),f.pointerType,!1),f.isPressed=!1,f.isOverTarget=!1,f.activePointerId=null,f.pointerType=null,Y(),T||ae(f.target);for(let p of f.disposables)p();f.disposables=[]}}),Z=E(r=>{D&&w(r)}),G=E(r=>{l==null||l(r)}),ee=E((r,f)=>{if(l){let p=new MouseEvent("click",r);Ke(p,f),l(Ce(p))}}),he=$.useMemo(()=>{let r=K.current,f={onKeyDown(i){if(X(i.nativeEvent,i.currentTarget)&&P(i.currentTarget,y(i.nativeEvent))){var u;fe(y(i.nativeEvent),i.key)&&i.preventDefault();let s=!0;if(!r.isPressed&&!i.repeat){r.target=i.currentTarget,r.isPressed=!0,r.pointerType="keyboard",s=M(i,"keyboard");let d=i.currentTarget,v=h=>{X(h,d)&&!h.repeat&&P(d,y(h))&&r.target&&O(S(r.target,h),"keyboard")};L(k(i.currentTarget),"keyup",pe(v,p),!0)}s&&i.stopPropagation(),i.metaKey&&j()&&((u=r.metaKeyEvents)===null||u===void 0||u.set(i.key,i.nativeEvent))}else i.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(i){if(!(i&&!P(i.currentTarget,y(i.nativeEvent)))&&i&&i.button===0&&!r.isTriggeringEvent&&!A.isOpening){let u=!0;if(b&&i.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||Ae(i.nativeEvent))){let s=M(i,"virtual"),d=O(i,"virtual"),v=C(i,"virtual");G(i),u=s&&d&&v}else if(r.isPressed&&r.pointerType!=="keyboard"){let s=r.pointerType||i.nativeEvent.pointerType||"virtual",d=O(S(i.currentTarget,i),s),v=C(S(i.currentTarget,i),s,!0);u=d&&v,r.isOverTarget=!1,G(i),w(i)}r.ignoreEmulatedMouseEvents=!1,u&&i.stopPropagation()}}},p=i=>{var u;if(r.isPressed&&r.target&&X(i,r.target)){var s;fe(y(i),i.key)&&i.preventDefault();let v=y(i),h=P(r.target,y(i));C(S(r.target,i),"keyboard",h),h&&ee(i,r.target),Y(),i.key!=="Enter"&&J(r.target)&&P(r.target,v)&&!i[se]&&(i[se]=!0,A(r.target,i,!1)),r.isPressed=!1,(s=r.metaKeyEvents)===null||s===void 0||s.delete(i.key)}else if(i.key==="Meta"&&(!((u=r.metaKeyEvents)===null||u===void 0)&&u.size)){var d;let v=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let h of v.values())(d=r.target)===null||d===void 0||d.dispatchEvent(new KeyboardEvent("keyup",h))}};if(typeof PointerEvent!="undefined"){f.onPointerDown=s=>{if(s.button!==0||!P(s.currentTarget,y(s.nativeEvent)))return;if(_e(s.nativeEvent)){r.pointerType="virtual";return}r.pointerType=s.pointerType;let d=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=s.pointerId,r.target=s.currentTarget,T||Xe(r.target),d=M(s,r.pointerType);let v=y(s.nativeEvent);"releasePointerCapture"in v&&v.releasePointerCapture(s.pointerId),L(k(s.currentTarget),"pointerup",i,!1),L(k(s.currentTarget),"pointercancel",u,!1)}d&&s.stopPropagation()},f.onMouseDown=s=>{if(P(s.currentTarget,y(s.nativeEvent))&&s.button===0){if(m){let d=Ie(s.target);d&&r.disposables.push(d)}s.stopPropagation()}},f.onPointerUp=s=>{!P(s.currentTarget,y(s.nativeEvent))||r.pointerType==="virtual"||s.button===0&&!r.isPressed&&O(s,r.pointerType||s.pointerType)},f.onPointerEnter=s=>{s.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,M(S(r.target,s),r.pointerType))},f.onPointerLeave=s=>{s.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,C(S(r.target,s),r.pointerType,!1),Z(s))};let i=s=>{if(s.pointerId===r.activePointerId&&r.isPressed&&s.button===0&&r.target){if(P(r.target,y(s))&&r.pointerType!=null){let d=!1,v=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&(d?w(s):(N(r.target),r.target.click()))},80);L(s.currentTarget,"click",()=>d=!0,!0),r.disposables.push(()=>clearTimeout(v))}else w(s);r.isOverTarget=!1}},u=s=>{w(s)};f.onDragStart=s=>{P(s.currentTarget,y(s.nativeEvent))&&w(s)}}return f},[L,b,m,Y,T,w,Z,C,M,O,G,ee]);return $.useEffect(()=>{if(!B)return;const r=k(B.current);if(!r||!r.head||r.getElementById(oe))return;const f=r.createElement("style");f.id=oe,f.textContent=`
@layer {
  [${le}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),r.head.prepend(f)},[B]),$.useEffect(()=>{let r=K.current;return()=>{var f;T||ae((f=r.target)!==null&&f!==void 0?f:void 0);for(let p of r.disposables)p();r.disposables=[]}},[T]),{isPressed:g||Te,pressProps:z(Pe,he,{[le]:!0})}}function J(e){return e.tagName==="A"&&e.hasAttribute("href")}function X(e,t){const{key:n,code:a}=e,o=t,c=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||a==="Space")&&!(o instanceof te(o).HTMLInputElement&&!ge(o,n)||o instanceof te(o).HTMLTextAreaElement||o.isContentEditable)&&!((c==="link"||!c&&J(o))&&n!=="Enter")}function S(e,t){let n=t.clientX,a=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:a}}function Qe(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!J(e)}function fe(e,t){return e instanceof HTMLInputElement?!ge(e,t):Qe(e)}const Ze=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ge(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Ze.has(e.type)}function et(e){const t=k(e),n=re(t);if(De()==="virtual"){let a=n;$e(()=>{re(t)===a&&e.isConnected&&N(e)})}else N(e)}function ce(e){if(!e)return;let t=!0;return n=>{let a={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(a),t&&n.stopPropagation()}}function tt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:ce(e.onKeyDown),onKeyUp:ce(e.onKeyUp)}}}let rt=de.createContext(null);function nt(e){let t=$.useContext(rt)||{};be(t,e);let{ref:n,...a}=t;return a}function ut(e,t){let{focusProps:n}=Le(e),{keyboardProps:a}=tt(e),o=z(n,a),c=nt(t),l=e.isDisabled?{}:c,b=$.useRef(e.autoFocus);$.useEffect(()=>{b.current&&t.current&&et(t.current),b.current=!1},[t]);let g=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(g=void 0),{focusableProps:z({...o,tabIndex:g},l)}}export{ct as $,ut as a,Fe as b,ot as c,z as d,et as e,lt as f,tt as g,ve as h,ze as i,pe as j,A as k,ft as l};
