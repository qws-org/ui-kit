import{C as he,B as Te,A as Y,D as Ee,E as F,m as me,y as ce,e as k,c as xe,p as w,i as we,j as Se,h as P,g,F as ke,G as Ce,k as N,H as Ke,z as _e,x as Q,f as Z,w as Me,b as Ae}from"./useFocus-CgYBR30T.js";import{r as y,R as fe}from"./index-D4H_InIO.js";import"./index-BFEZrabH.js";function Le(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function De(e,t,n){Le(e,t),t.set(e,n)}const Oe=new Set(["id"]),Ie=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Ue=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),He=new Set(["dir","lang","hidden","inert","translate"]),ee=new Set(["onClick","onAuxClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut","onGotPointerCapture","onLostPointerCapture","onScroll","onWheel","onAnimationStart","onAnimationEnd","onAnimationIteration","onTransitionCancel","onTransitionEnd","onTransitionRun","onTransitionStart"]),Fe=/^(data-.*)$/;function it(e,t={}){let{labelable:n,isLink:o,global:l,events:u=l,propNames:p}=t,d={};for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&(Oe.has(c)||n&&Ie.has(c)||o&&Ue.has(c)||l&&He.has(c)||u&&ee.has(c)||c.endsWith("Capture")&&ee.has(c.slice(0,-7))||p!=null&&p.has(c)||Fe.test(c))&&(d[c]=e[c]);return d}const Ne=y.createContext({isNative:!0,open:Be,useHref:e=>e});function de(){return y.useContext(Ne)}function Re(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function M(e,t,n=!0){var o,l;let{metaKey:u,ctrlKey:p,altKey:d,shiftKey:c}=t;he()&&(!((l=window.event)===null||l===void 0||(o=l.type)===null||o===void 0)&&o.startsWith("key"))&&e.target==="_blank"&&(Y()?u=!0:p=!0);let E=Te()&&Y()&&!Ee()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:u,ctrlKey:p,altKey:d,shiftKey:c}):new MouseEvent("click",{metaKey:u,ctrlKey:p,altKey:d,shiftKey:c,bubbles:!0,cancelable:!0});M.isOpening=n,F(e),e.dispatchEvent(E),M.isOpening=!1}M.isOpening=!1;function ze(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function Be(e,t){ze(e,n=>M(n,t))}function ot(e){let t=de();var n;const o=t.useHref((n=e.href)!==null&&n!==void 0?n:"");return{"data-href":e.href?o:void 0,"data-target":e.target,"data-rel":e.rel,"data-download":e.download,"data-ping":e.ping,"data-referrer-policy":e.referrerPolicy}}function st(e){let t=de();var n;const o=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?o:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}function lt(e,t,n,o){!t.isNative&&e.currentTarget instanceof HTMLAnchorElement&&e.currentTarget.href&&!e.isDefaultPrevented()&&Re(e.currentTarget,e)&&n&&(e.preventDefault(),t.open(e.currentTarget,e,n,o))}let m=new Map,j=new Set;function te(){if(typeof window=="undefined")return;function e(o){return"propertyName"in o}let t=o=>{if(!e(o)||!o.target)return;let l=m.get(o.target);l||(l=new Set,m.set(o.target,l),o.target.addEventListener("transitioncancel",n,{once:!0})),l.add(o.propertyName)},n=o=>{if(!e(o)||!o.target)return;let l=m.get(o.target);if(l&&(l.delete(o.propertyName),l.size===0&&(o.target.removeEventListener("transitioncancel",n),m.delete(o.target)),m.size===0)){for(let u of j)u();j.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document!="undefined"&&(document.readyState!=="loading"?te():document.addEventListener("DOMContentLoaded",te));function Ge(){for(const[e]of m)"isConnected"in e&&!e.isConnected&&m.delete(e)}function ue(e){requestAnimationFrame(()=>{Ge(),m.size===0?e():j.add(e)})}function pe(e,t){me(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}let _="default",W="",H=new WeakMap;function Ye(e){if(ce()){if(_==="default"){const t=k(e);W=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}_="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";H.set(e,e.style[t]),e.style[t]="none"}}function re(e){if(ce()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{ue(()=>{if(_==="restoring"){const t=k(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=W||""),W="",_="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&H.has(e)){let t=H.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),H.delete(e)}}const be=fe.createContext({register:()=>{}});be.displayName="PressResponderContext";function je(e,t){return t.get?t.get.call(e):t.value}function $e(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function We(e,t){var n=$e(e,t,"get");return je(e,n)}function Xe(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ne(e,t,n){var o=$e(e,t,"set");return Xe(e,o,n),n}function Ve(e){let t=y.useContext(be);if(t){let{register:n,...o}=t;e=N(o,e),n()}return pe(t,e.ref),e}var I=new WeakMap;class U{continuePropagation(){ne(this,I,!1)}get shouldStopPropagation(){return We(this,I)}constructor(t,n,o,l){De(this,I,{writable:!0,value:void 0}),ne(this,I,!0);var u;let p=(u=l==null?void 0:l.target)!==null&&u!==void 0?u:o.currentTarget;const d=p==null?void 0:p.getBoundingClientRect();let c,E=0,A,h=null;o.clientX!=null&&o.clientY!=null&&(A=o.clientX,h=o.clientY),d&&(A!=null&&h!=null?(c=A-d.left,E=h-d.top):(c=d.width/2,E=d.height/2)),this.type=t,this.pointerType=n,this.target=o.currentTarget,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.x=c,this.y=E}}const ae=Symbol("linkClicked"),ie="react-aria-pressable-style",oe="data-react-aria-pressable";function ct(e){let{onPress:t,onPressChange:n,onPressStart:o,onPressEnd:l,onPressUp:u,onClick:p,isDisabled:d,isPressed:c,preventFocusOnPress:E,shouldCancelOnPointerExit:A,allowTextSelectionOnPress:h,ref:R,...ge}=Ve(e),[ye,V]=y.useState(!1),C=y.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:L,removeAllGlobalListeners:z}=xe(),D=w((r,s)=>{let $=C.current;if(d||$.didFirePressStart)return!1;let a=!0;if($.isTriggeringEvent=!0,o){let f=new U("pressstart",s,r);o(f),a=f.shouldStopPropagation}return n&&n(!0),$.isTriggeringEvent=!1,$.didFirePressStart=!0,V(!0),a}),K=w((r,s,$=!0)=>{let a=C.current;if(!a.didFirePressStart)return!1;a.didFirePressStart=!1,a.isTriggeringEvent=!0;let f=!0;if(l){let i=new U("pressend",s,r);l(i),f=i.shouldStopPropagation}if(n&&n(!1),V(!1),t&&$&&!d){let i=new U("press",s,r);t(i),f&&(f=i.shouldStopPropagation)}return a.isTriggeringEvent=!1,f}),O=w((r,s)=>{let $=C.current;if(d)return!1;if(u){$.isTriggeringEvent=!0;let a=new U("pressup",s,r);return u(a),$.isTriggeringEvent=!1,a.shouldStopPropagation}return!0}),x=w(r=>{let s=C.current;if(s.isPressed&&s.target){s.didFirePressStart&&s.pointerType!=null&&K(S(s.target,r),s.pointerType,!1),s.isPressed=!1,s.isOverTarget=!1,s.activePointerId=null,s.pointerType=null,z(),h||re(s.target);for(let $ of s.disposables)$();s.disposables=[]}}),q=w(r=>{A&&x(r)}),B=w(r=>{p==null||p(r)}),J=w((r,s)=>{if(p){let $=new MouseEvent("click",r);we($,s),p(Se($))}}),Pe=y.useMemo(()=>{let r=C.current,s={onKeyDown(a){if(G(a.nativeEvent,a.currentTarget)&&P(a.currentTarget,g(a.nativeEvent))){var f;se(g(a.nativeEvent),a.key)&&a.preventDefault();let i=!0;if(!r.isPressed&&!a.repeat){r.target=a.currentTarget,r.isPressed=!0,r.pointerType="keyboard",i=D(a,"keyboard");let b=a.currentTarget,v=T=>{G(T,b)&&!T.repeat&&P(b,g(T))&&r.target&&O(S(r.target,T),"keyboard")};L(k(a.currentTarget),"keyup",_e(v,$),!0)}i&&a.stopPropagation(),a.metaKey&&Y()&&((f=r.metaKeyEvents)===null||f===void 0||f.set(a.key,a.nativeEvent))}else a.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(a){if(!(a&&!P(a.currentTarget,g(a.nativeEvent)))&&a&&a.button===0&&!r.isTriggeringEvent&&!M.isOpening){let f=!0;if(d&&a.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||Ke(a.nativeEvent))){let i=D(a,"virtual"),b=O(a,"virtual"),v=K(a,"virtual");B(a),f=i&&b&&v}else if(r.isPressed&&r.pointerType!=="keyboard"){let i=r.pointerType||a.nativeEvent.pointerType||"virtual",b=O(S(a.currentTarget,a),i),v=K(S(a.currentTarget,a),i,!0);f=b&&v,r.isOverTarget=!1,B(a),x(a)}r.ignoreEmulatedMouseEvents=!1,f&&a.stopPropagation()}}},$=a=>{var f;if(r.isPressed&&r.target&&G(a,r.target)){var i;se(g(a),a.key)&&a.preventDefault();let v=g(a),T=P(r.target,g(a));K(S(r.target,a),"keyboard",T),T&&J(a,r.target),z(),a.key!=="Enter"&&X(r.target)&&P(r.target,v)&&!a[ae]&&(a[ae]=!0,M(r.target,a,!1)),r.isPressed=!1,(i=r.metaKeyEvents)===null||i===void 0||i.delete(a.key)}else if(a.key==="Meta"&&(!((f=r.metaKeyEvents)===null||f===void 0)&&f.size)){var b;let v=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let T of v.values())(b=r.target)===null||b===void 0||b.dispatchEvent(new KeyboardEvent("keyup",T))}};if(typeof PointerEvent!="undefined"){s.onPointerDown=i=>{if(i.button!==0||!P(i.currentTarget,g(i.nativeEvent)))return;if(ke(i.nativeEvent)){r.pointerType="virtual";return}r.pointerType=i.pointerType;let b=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=i.pointerId,r.target=i.currentTarget,h||Ye(r.target),b=D(i,r.pointerType);let v=g(i.nativeEvent);"releasePointerCapture"in v&&v.releasePointerCapture(i.pointerId),L(k(i.currentTarget),"pointerup",a,!1),L(k(i.currentTarget),"pointercancel",f,!1)}b&&i.stopPropagation()},s.onMouseDown=i=>{if(P(i.currentTarget,g(i.nativeEvent))&&i.button===0){if(E){let b=Ce(i.target);b&&r.disposables.push(b)}i.stopPropagation()}},s.onPointerUp=i=>{!P(i.currentTarget,g(i.nativeEvent))||r.pointerType==="virtual"||i.button===0&&!r.isPressed&&O(i,r.pointerType||i.pointerType)},s.onPointerEnter=i=>{i.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,D(S(r.target,i),r.pointerType))},s.onPointerLeave=i=>{i.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,K(S(r.target,i),r.pointerType,!1),q(i))};let a=i=>{if(i.pointerId===r.activePointerId&&r.isPressed&&i.button===0&&r.target){if(P(r.target,g(i))&&r.pointerType!=null){let b=!1,v=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&(b?x(i):(F(r.target),r.target.click()))},80);L(i.currentTarget,"click",()=>b=!0,!0),r.disposables.push(()=>clearTimeout(v))}else x(i);r.isOverTarget=!1}},f=i=>{x(i)};s.onDragStart=i=>{P(i.currentTarget,g(i.nativeEvent))&&x(i)}}return s},[L,d,E,z,h,x,q,K,D,O,B,J]);return y.useEffect(()=>{if(!R)return;const r=k(R.current);if(!r||!r.head||r.getElementById(ie))return;const s=r.createElement("style");s.id=ie,s.textContent=`
@layer {
  [${oe}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),r.head.prepend(s)},[R]),y.useEffect(()=>{let r=C.current;return()=>{var s;h||re((s=r.target)!==null&&s!==void 0?s:void 0);for(let $ of r.disposables)$();r.disposables=[]}},[h]),{isPressed:c||ye,pressProps:N(ge,Pe,{[oe]:!0})}}function X(e){return e.tagName==="A"&&e.hasAttribute("href")}function G(e,t){const{key:n,code:o}=e,l=t,u=l.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||o==="Space")&&!(l instanceof Q(l).HTMLInputElement&&!ve(l,n)||l instanceof Q(l).HTMLTextAreaElement||l.isContentEditable)&&!((u==="link"||!u&&X(l))&&n!=="Enter")}function S(e,t){let n=t.clientX,o=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:o}}function qe(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!X(e)}function se(e,t){return e instanceof HTMLInputElement?!ve(e,t):qe(e)}const Je=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ve(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Je.has(e.type)}function Qe(e){const t=k(e),n=Z(t);if(Me()==="virtual"){let o=n;ue(()=>{Z(t)===o&&e.isConnected&&F(e)})}else F(e)}function le(e){if(!e)return;let t=!0;return n=>{let o={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(o),t&&n.stopPropagation()}}function Ze(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:le(e.onKeyDown),onKeyUp:le(e.onKeyUp)}}}let et=fe.createContext(null);function tt(e){let t=y.useContext(et)||{};pe(t,e);let{ref:n,...o}=t;return o}function ft(e,t){let{focusProps:n}=Ae(e),{keyboardProps:o}=Ze(e),l=N(n,o),u=tt(t),p=e.isDisabled?{}:u,d=y.useRef(e.autoFocus);y.useEffect(()=>{d.current&&t.current&&Qe(t.current),d.current=!1},[t]);let c=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(c=void 0),{focusableProps:N({...l,tabIndex:c},p)}}export{ct as $,ft as a,it as b,Qe as c,st as d,be as e,de as f,Ze as g,lt as h,M as i,ot as j};
