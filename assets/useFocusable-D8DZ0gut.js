import{l as T,k as V,o as Te,p as me,s as xe,t as we,v as j,w as Se,x as N,y as ue,e as S,c as ke,i as Ke,j as Ce,h as P,g as v,z as _e,A as Ie,B as Ae,C as te,f as re,r as De,b as Le}from"./useUiKitComponents-C9IiVWkE.js";import{r as p,R as de}from"./index-D4lIrffr.js";import"./index-DQD4w61r.js";function Me(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Oe(e,t,n){Me(e,t),t.set(e,n)}function Ue(e){let[t,n]=p.useState(e),i=p.useRef(null),o=T(()=>{if(!i.current)return;let l=i.current.next();if(l.done){i.current=null;return}t===l.value?o():n(l.value)});V(()=>{i.current&&o()});let c=T(l=>{i.current=l(t),o()});return[t,c]}let Re=!!(typeof window<"u"&&window.document&&window.document.createElement),I=new Map,O;typeof FinalizationRegistry<"u"&&(O=new FinalizationRegistry(e=>{I.delete(e)}));function Fe(e){let[t,n]=p.useState(e),i=p.useRef(null),o=Te(t),c=p.useRef(null);if(O&&O.register(c,o),Re){const l=I.get(o);l&&!l.includes(i)?l.push(i):I.set(o,[i])}return V(()=>{let l=o;return()=>{O&&O.unregister(c),I.delete(l)}},[o]),p.useEffect(()=>{let l=i.current;return l&&n(l),()=>{l&&(i.current=null)}}),o}function He(e,t){if(e===t)return e;let n=I.get(e);if(n)return n.forEach(o=>o.current=t),t;let i=I.get(t);return i?(i.forEach(o=>o.current=e),e):t}function st(e=[]){let t=Fe(),[n,i]=Ue(t),o=p.useCallback(()=>{i(function*(){yield t,yield document.getElementById(t)?t:void 0})},[t,i]);return V(o,[t,o,...e]),n}function pe(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}function z(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let i=e[n];for(let o in i){let c=t[o],l=i[o];typeof c=="function"&&typeof l=="function"&&o[0]==="o"&&o[1]==="n"&&o.charCodeAt(2)>=65&&o.charCodeAt(2)<=90?t[o]=pe(c,l):(o==="className"||o==="UNSAFE_className")&&typeof c=="string"&&typeof l=="string"?t[o]=me(c,l):o==="id"&&c&&l?t.id=He(c,l):t[o]=l!==void 0?l:c}}return t}const Ne=p.createContext({isNative:!0,open:Be,useHref:e=>e});function ze(){return p.useContext(Ne)}function ot(e,t){let n=e.getAttribute("target");return(!n||n==="_self")&&e.origin===location.origin&&!e.hasAttribute("download")&&!t.metaKey&&!t.ctrlKey&&!t.altKey&&!t.shiftKey}function A(e,t,n=!0){var i,o;let{metaKey:c,ctrlKey:l,altKey:$,shiftKey:g}=t;xe()&&(!((o=window.event)===null||o===void 0||(i=o.type)===null||i===void 0)&&i.startsWith("key"))&&e.target==="_blank"&&(j()?c=!0:l=!0);let m=we()&&j()&&!Se()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:c,ctrlKey:l,altKey:$,shiftKey:g}):new MouseEvent("click",{metaKey:c,ctrlKey:l,altKey:$,shiftKey:g,bubbles:!0,cancelable:!0});A.isOpening=n,N(e),e.dispatchEvent(m),A.isOpening=!1}A.isOpening=!1;function Ve(e,t){if(e instanceof HTMLAnchorElement)t(e);else if(e.hasAttribute("data-href")){let n=document.createElement("a");n.href=e.getAttribute("data-href"),e.hasAttribute("data-target")&&(n.target=e.getAttribute("data-target")),e.hasAttribute("data-rel")&&(n.rel=e.getAttribute("data-rel")),e.hasAttribute("data-download")&&(n.download=e.getAttribute("data-download")),e.hasAttribute("data-ping")&&(n.ping=e.getAttribute("data-ping")),e.hasAttribute("data-referrer-policy")&&(n.referrerPolicy=e.getAttribute("data-referrer-policy")),e.appendChild(n),t(n),e.removeChild(n)}}function Be(e,t){Ve(e,n=>A(n,t))}function lt(e){let t=ze();var n;const i=t.useHref((n=e==null?void 0:e.href)!==null&&n!==void 0?n:"");return{href:e!=null&&e.href?i:void 0,target:e==null?void 0:e.target,rel:e==null?void 0:e.rel,download:e==null?void 0:e.download,ping:e==null?void 0:e.ping,referrerPolicy:e==null?void 0:e.referrerPolicy}}let x=new Map,W=new Set;function ne(){if(typeof window>"u")return;function e(i){return"propertyName"in i}let t=i=>{if(!e(i)||!i.target)return;let o=x.get(i.target);o||(o=new Set,x.set(i.target,o),i.target.addEventListener("transitioncancel",n,{once:!0})),o.add(i.propertyName)},n=i=>{if(!e(i)||!i.target)return;let o=x.get(i.target);if(o&&(o.delete(i.propertyName),o.size===0&&(i.target.removeEventListener("transitioncancel",n),x.delete(i.target)),x.size===0)){for(let c of W)c();W.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?ne():document.addEventListener("DOMContentLoaded",ne));function Ye(){for(const[e]of x)"isConnected"in e&&!e.isConnected&&x.delete(e)}function $e(e){requestAnimationFrame(()=>{Ye(),x.size===0?e():W.add(e)})}function be(e,t){V(()=>{if(e&&e.ref&&t)return e.ref.current=t.current,()=>{e.ref&&(e.ref.current=null)}})}let _="default",q="",H=new WeakMap;function Ge(e){if(ue()){if(_==="default"){const t=S(e);q=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}_="disabled"}else if(e instanceof HTMLElement||e instanceof SVGElement){let t="userSelect"in e.style?"userSelect":"webkitUserSelect";H.set(e,e.style[t]),e.style[t]="none"}}function ie(e){if(ue()){if(_!=="disabled")return;_="restoring",setTimeout(()=>{$e(()=>{if(_==="restoring"){const t=S(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=q||""),q="",_="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&H.has(e)){let t=H.get(e),n="userSelect"in e.style?"userSelect":"webkitUserSelect";e.style[n]==="none"&&(e.style[n]=t),e.getAttribute("style")===""&&e.removeAttribute("style"),H.delete(e)}}const ve=de.createContext({register:()=>{}});ve.displayName="PressResponderContext";function Xe(e,t){return t.get?t.get.call(e):t.value}function ye(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function je(e,t){var n=ye(e,t,"get");return Xe(e,n)}function We(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function ae(e,t,n){var i=ye(e,t,"set");return We(e,i,n),n}function qe(e){let t=p.useContext(ve);if(t){let{register:n,...i}=t;e=z(i,e),n()}return be(t,e.ref),e}var R=new WeakMap;class F{continuePropagation(){ae(this,R,!1)}get shouldStopPropagation(){return je(this,R)}constructor(t,n,i,o){Oe(this,R,{writable:!0,value:void 0}),ae(this,R,!0);var c;let l=(c=o==null?void 0:o.target)!==null&&c!==void 0?c:i.currentTarget;const $=l==null?void 0:l.getBoundingClientRect();let g,m=0,D,h=null;i.clientX!=null&&i.clientY!=null&&(D=i.clientX,h=i.clientY),$&&(D!=null&&h!=null?(g=D-$.left,m=h-$.top):(g=$.width/2,m=$.height/2)),this.type=t,this.pointerType=n,this.target=i.currentTarget,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.x=g,this.y=m}}const se=Symbol("linkClicked"),oe="react-aria-pressable-style",le="data-react-aria-pressable";function ft(e){let{onPress:t,onPressChange:n,onPressStart:i,onPressEnd:o,onPressUp:c,onClick:l,isDisabled:$,isPressed:g,preventFocusOnPress:m,shouldCancelOnPointerExit:D,allowTextSelectionOnPress:h,ref:B,...Pe}=qe(e),[he,Q]=p.useState(!1),k=p.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null,disposables:[]}),{addGlobalListener:L,removeAllGlobalListeners:Y}=ke(),M=T((r,f)=>{let d=k.current;if($||d.didFirePressStart)return!1;let a=!0;if(d.isTriggeringEvent=!0,i){let u=new F("pressstart",f,r);i(u),a=u.shouldStopPropagation}return n&&n(!0),d.isTriggeringEvent=!1,d.didFirePressStart=!0,Q(!0),a}),K=T((r,f,d=!0)=>{let a=k.current;if(!a.didFirePressStart)return!1;a.didFirePressStart=!1,a.isTriggeringEvent=!0;let u=!0;if(o){let s=new F("pressend",f,r);o(s),u=s.shouldStopPropagation}if(n&&n(!1),Q(!1),t&&d&&!$){let s=new F("press",f,r);t(s),u&&(u=s.shouldStopPropagation)}return a.isTriggeringEvent=!1,u}),U=T((r,f)=>{let d=k.current;if($)return!1;if(c){d.isTriggeringEvent=!0;let a=new F("pressup",f,r);return c(a),d.isTriggeringEvent=!1,a.shouldStopPropagation}return!0}),w=T(r=>{let f=k.current;if(f.isPressed&&f.target){f.didFirePressStart&&f.pointerType!=null&&K(C(f.target,r),f.pointerType,!1),f.isPressed=!1,f.isOverTarget=!1,f.activePointerId=null,f.pointerType=null,Y(),h||ie(f.target);for(let d of f.disposables)d();f.disposables=[]}}),Z=T(r=>{D&&w(r)}),G=T(r=>{l==null||l(r)}),ee=T((r,f)=>{if(l){let d=new MouseEvent("click",r);Ke(d,f),l(Ce(d))}}),Ee=p.useMemo(()=>{let r=k.current,f={onKeyDown(a){if(X(a.nativeEvent,a.currentTarget)&&P(a.currentTarget,v(a.nativeEvent))){var u;fe(v(a.nativeEvent),a.key)&&a.preventDefault();let s=!0;if(!r.isPressed&&!a.repeat){r.target=a.currentTarget,r.isPressed=!0,r.pointerType="keyboard",s=M(a,"keyboard");let b=a.currentTarget,y=E=>{X(E,b)&&!E.repeat&&P(b,v(E))&&r.target&&U(C(r.target,E),"keyboard")};L(S(a.currentTarget),"keyup",pe(y,d),!0)}s&&a.stopPropagation(),a.metaKey&&j()&&((u=r.metaKeyEvents)===null||u===void 0||u.set(a.key,a.nativeEvent))}else a.key==="Meta"&&(r.metaKeyEvents=new Map)},onClick(a){if(!(a&&!P(a.currentTarget,v(a.nativeEvent)))&&a&&a.button===0&&!r.isTriggeringEvent&&!A.isOpening){let u=!0;if($&&a.preventDefault(),!r.ignoreEmulatedMouseEvents&&!r.isPressed&&(r.pointerType==="virtual"||Ae(a.nativeEvent))){let s=M(a,"virtual"),b=U(a,"virtual"),y=K(a,"virtual");G(a),u=s&&b&&y}else if(r.isPressed&&r.pointerType!=="keyboard"){let s=r.pointerType||a.nativeEvent.pointerType||"virtual";u=K(C(a.currentTarget,a),s,!0),r.isOverTarget=!1,G(a),w(a)}r.ignoreEmulatedMouseEvents=!1,u&&a.stopPropagation()}}},d=a=>{var u;if(r.isPressed&&r.target&&X(a,r.target)){var s;fe(v(a),a.key)&&a.preventDefault();let y=v(a),E=P(r.target,v(a));K(C(r.target,a),"keyboard",E),E&&ee(a,r.target),Y(),a.key!=="Enter"&&J(r.target)&&P(r.target,y)&&!a[se]&&(a[se]=!0,A(r.target,a,!1)),r.isPressed=!1,(s=r.metaKeyEvents)===null||s===void 0||s.delete(a.key)}else if(a.key==="Meta"&&(!((u=r.metaKeyEvents)===null||u===void 0)&&u.size)){var b;let y=r.metaKeyEvents;r.metaKeyEvents=void 0;for(let E of y.values())(b=r.target)===null||b===void 0||b.dispatchEvent(new KeyboardEvent("keyup",E))}};if(typeof PointerEvent<"u"){f.onPointerDown=s=>{if(s.button!==0||!P(s.currentTarget,v(s.nativeEvent)))return;if(_e(s.nativeEvent)){r.pointerType="virtual";return}r.pointerType=s.pointerType;let b=!0;if(!r.isPressed){r.isPressed=!0,r.isOverTarget=!0,r.activePointerId=s.pointerId,r.target=s.currentTarget,h||Ge(r.target),b=M(s,r.pointerType);let y=v(s.nativeEvent);"releasePointerCapture"in y&&y.releasePointerCapture(s.pointerId),L(S(s.currentTarget),"pointerup",a,!1),L(S(s.currentTarget),"pointercancel",u,!1)}b&&s.stopPropagation()},f.onMouseDown=s=>{if(P(s.currentTarget,v(s.nativeEvent))&&s.button===0){if(m){let b=Ie(s.target);b&&r.disposables.push(b)}s.stopPropagation()}},f.onPointerUp=s=>{!P(s.currentTarget,v(s.nativeEvent))||r.pointerType==="virtual"||s.button===0&&U(s,r.pointerType||s.pointerType)},f.onPointerEnter=s=>{s.pointerId===r.activePointerId&&r.target&&!r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!0,M(C(r.target,s),r.pointerType))},f.onPointerLeave=s=>{s.pointerId===r.activePointerId&&r.target&&r.isOverTarget&&r.pointerType!=null&&(r.isOverTarget=!1,K(C(r.target,s),r.pointerType,!1),Z(s))};let a=s=>{if(s.pointerId===r.activePointerId&&r.isPressed&&s.button===0&&r.target){if(P(r.target,v(s))&&r.pointerType!=null){let b=!1,y=setTimeout(()=>{r.isPressed&&r.target instanceof HTMLElement&&(b?w(s):(N(r.target),r.target.click()))},80);L(s.currentTarget,"click",()=>b=!0,!0),r.disposables.push(()=>clearTimeout(y))}else w(s);r.isOverTarget=!1}},u=s=>{w(s)};f.onDragStart=s=>{P(s.currentTarget,v(s.nativeEvent))&&w(s)}}return f},[L,$,m,Y,h,w,Z,K,M,U,G,ee]);return p.useEffect(()=>{if(!B)return;const r=S(B.current);if(!r||!r.head||r.getElementById(oe))return;const f=r.createElement("style");f.id=oe,f.textContent=`
@layer {
  [${le}] {
    touch-action: pan-x pan-y pinch-zoom;
  }
}
    `.trim(),r.head.prepend(f)},[B]),p.useEffect(()=>{let r=k.current;return()=>{var f;h||ie((f=r.target)!==null&&f!==void 0?f:void 0);for(let d of r.disposables)d();r.disposables=[]}},[h]),{isPressed:g||he,pressProps:z(Pe,Ee,{[le]:!0})}}function J(e){return e.tagName==="A"&&e.hasAttribute("href")}function X(e,t){const{key:n,code:i}=e,o=t,c=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||i==="Space")&&!(o instanceof te(o).HTMLInputElement&&!ge(o,n)||o instanceof te(o).HTMLTextAreaElement||o.isContentEditable)&&!((c==="link"||!c&&J(o))&&n!=="Enter")}function C(e,t){let n=t.clientX,i=t.clientY;return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey,clientX:n,clientY:i}}function Je(e){return e instanceof HTMLInputElement?!1:e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!J(e)}function fe(e,t){return e instanceof HTMLInputElement?!ge(e,t):Je(e)}const Qe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ge(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Qe.has(e.type)}function Ze(e){const t=S(e),n=re(t);if(De()==="virtual"){let i=n;$e(()=>{re(t)===i&&e.isConnected&&N(e)})}else N(e)}function ce(e){if(!e)return;let t=!0;return n=>{let i={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){t=!0},continuePropagation(){t=!1},isPropagationStopped(){return t}};e(i),t&&n.stopPropagation()}}function et(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:ce(e.onKeyDown),onKeyUp:ce(e.onKeyUp)}}}let tt=de.createContext(null);function rt(e){let t=p.useContext(tt)||{};be(t,e);let{ref:n,...i}=t;return i}function ct(e,t){let{focusProps:n}=Le(e),{keyboardProps:i}=et(e),o=z(n,i),c=rt(t),l=e.isDisabled?{}:c,$=p.useRef(e.autoFocus);p.useEffect(()=>{$.current&&t.current&&Ze(t.current),$.current=!1},[t]);let g=e.excludeFromTabOrder?-1:0;return e.isDisabled&&(g=void 0),{focusableProps:z({...o,tabIndex:g},l)}}export{ft as $,ct as a,Fe as b,st as c,z as d,Ze as e,lt as f,et as g,ve as h,ze as i,A as j,ot as k,pe as l};
